<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activity 1: Competitive Field Snapshot</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Raleway:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', 'Raleway', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background-color: #fafafa;
            margin: 0;
            padding: 0;
        }
        .force-box.selected {
            border: 3px solid #FF9000;
            box-shadow: 0 0 0 2px rgba(255, 144, 0, 0.2);
        }
        .laptop-textarea {
            min-height: 80px;
            max-height: 120px;
            transition: max-height 0.3s ease;
            resize: none;
        }
        .laptop-textarea:focus {
            max-height: 200px;
        }
        .animate-fadeIn {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="application/json" id="testData">
    {
        "customers": "Mid-market to Enterprise tech companies (e.g., SaaS, e-commerce) with complex, API-driven architectures. They have many monitoring choices (Datadog, New Relic, etc.) and significant power to demand performance and specific features.",
        "competitors": "Direct: Datadog, New Relic, Dynatrace. Indirect: Open-source solutions like Prometheus + Grafana.",
        "substitutes": "In-house custom monitoring scripts (Python/Bash), manual log checking by DevOps teams, relying on cloud provider's basic monitoring (e.g., CloudWatch), or simply 'doing nothing' until a major incident occurs.",
        "suppliers": "Primary dependencies are on cloud providers (AWS, GCP, Azure) for log data APIs and infrastructure. A change in their API terms, rate limits, or pricing could significantly impact our service.",
        "newEntrants": "Observability platforms like Honeycomb or Grafana Labs could easily extend their offerings. Large tech companies (e.g., Cloudflare, AWS) could bundle a more advanced, competitive monitoring solution into their platforms.",
        "selectedForces": ["substitutes", "customers"]
    }
    </script>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const WORKSHOP_STORAGE_KEY = 'workshopState_competitive_strategy';

        /**
         * Loads the entire workshop state from localStorage using a specific key.
         * @param {string} storageKey - The unique key for the workshop's state.
         * @returns {object} The parsed workshop state or an empty object.
         */
        const loadWorkshopState = (storageKey) => {
            try {
                const savedState = localStorage.getItem(storageKey);
                return savedState ? JSON.parse(savedState) : {};
            } catch (error) {
                console.error("Could not load state from localStorage", error);
                return {};
            }
        };

        /**
         * Saves a piece of state by merging it into the existing workshop state.
         * @param {object} stateToSave - An object containing the key-value pairs to save.
         * @param {string} storageKey - The unique key for the workshop's state.
         */
        const saveWorkshopState = (stateToSave, storageKey) => {
            try {
                const currentState = loadWorkshopState(storageKey);
                const newState = { ...currentState, ...stateToSave };
                localStorage.setItem(storageKey, JSON.stringify(newState));
            } catch (error) {
                console.error("Could not save state to localStorage", error);
            }
        };

        // Helper function for word count feedback - MOVED OUTSIDE COMPONENT
        const WordCountFeedback = ({ text, minWords = 5 }) => {
            const wordCount = text.trim().split(/\s+/).filter(w => w.length > 0).length;
            const isValid = wordCount >= minWords;
            
            return (
                <div className="flex justify-between items-center mt-1">
                    <span className="text-xs text-gray-500">
                        (describe in 5+ words)
                    </span>
                    <span className={`text-sm flex items-center gap-1 ${isValid ? 'text-green-600' : 'text-gray-500'}`}>
                        {wordCount} words
                        {isValid && <span>✓</span>}
                    </span>
                </div>
            );
        };

        // ForceBox component - MOVED OUTSIDE COMPONENT
        const ForceBox = ({ id, title, question, tooltip, placeholder, value, setter, selectedForces, handleForceSelection }) => {
            const isSelected = selectedForces.includes(id);
            const wordCount = value.trim().split(/\s+/).filter(w => w.length > 0).length;
            const isValid = value.trim().length >= 25;
            
            return (
                <div id={id} className={`force-box absolute w-80 p-4 border-2 rounded-xl bg-white shadow-lg transition-all duration-300 ${isSelected ? 'selected' : (isValid ? 'border-green-500' : 'border-gray-200')}`}>
                    <h3 className="text-base font-semibold text-gray-800 flex justify-between items-center">
                        {title}
                        <div className="relative group">
                            <span className="text-gray-400 cursor-pointer border border-gray-400 rounded-full w-5 h-5 flex items-center justify-center text-xs">?</span>
                            <div className="absolute bottom-full left-1/2 -translate-x-1/2 w-60 p-2 bg-gray-700 text-white text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none mb-2 z-10">
                                {tooltip}
                            </div>
                        </div>
                    </h3>
                    <p className="text-xs text-gray-500 italic mt-1 mb-2">{question}</p>
                    <textarea
                        value={value}
                        onChange={(e) => setter(e.target.value)}
                        placeholder={placeholder}
                        className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg text-sm focus:border-orange-500 focus:ring-2 focus:ring-orange-200 placeholder-gray-400"
                    />
                    <WordCountFeedback text={value} minWords={5} />
                    <div className="mt-2">
                        <button 
                            onClick={() => handleForceSelection(id)} 
                            className={`w-full py-1.5 px-3 text-sm font-semibold rounded-md transition-colors ${isSelected ? 'bg-orange-500 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}
                            disabled={!isValid}
                        >
                            {isSelected ? '✓ Selected' : 'Select as Top Force'}
                        </button>
                    </div>
                </div>
            );
        };

        const CompetitiveSnapshotActivity = () => {
            // State for each force's textarea - initialized from localStorage
            const [customers, setCustomers] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).customers || '');
            const [competitors, setCompetitors] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).competitors || '');
            const [substitutes, setSubstitutes] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).substitutes || '');
            const [suppliers, setSuppliers] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).suppliers || '');
            const [newEntrants, setNewEntrants] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).newEntrants || '');

            // State for tracking selected forces - initialized from localStorage
            const [selectedForces, setSelectedForces] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).selectedForces || []);
            
            // App state
            const [activityComplete, setActivityComplete] = useState(false);
            const [devMode, setDevMode] = useState(false);
            const [devFillLoading, setDevFillLoading] = useState(false);
            
            // Helper function to count filled fields
            const getFilledFieldsCount = () => {
                let count = 0;
                if (customers.trim().length >= 25) count++;
                if (competitors.trim().length >= 25) count++;
                if (substitutes.trim().length >= 25) count++;
                if (suppliers.trim().length >= 25) count++;
                if (newEntrants.trim().length >= 25) count++;
                return count;
            };
            
            // Calculate progress percentage
            const progressPercentage = (getFilledFieldsCount() / 5) * 100;
            
            // Reset activity function
            const resetActivity = () => {
                setCustomers('');
                setCompetitors('');
                setSubstitutes('');
                setSuppliers('');
                setNewEntrants('');
                setSelectedForces([]);
                setActivityComplete(false);
                
                // Clear localStorage data for this activity
                const emptyState = {
                    customers: '',
                    competitors: '',
                    substitutes: '',
                    suppliers: '',
                    newEntrants: '',
                    selectedForces: []
                };
                saveWorkshopState(emptyState, WORKSHOP_STORAGE_KEY);
            };

            useEffect(() => {
                if (selectedForces.length === 2) {
                    setActivityComplete(true);
                } else {
                    setActivityComplete(false);
                }
            }, [selectedForces]);

            // Auto-save state to localStorage whenever any form data changes
            useEffect(() => {
                const currentState = {
                    customers,
                    competitors,
                    substitutes,
                    suppliers,
                    newEntrants,
                    selectedForces
                };
                saveWorkshopState(currentState, WORKSHOP_STORAGE_KEY);
            }, [customers, competitors, substitutes, suppliers, newEntrants, selectedForces]);

            const handleForceSelection = (forceId) => {
                setSelectedForces(prev => {
                    if (prev.includes(forceId)) {
                        return prev.filter(id => id !== forceId);
                    } else {
                        if (prev.length < 2) {
                            return [...prev, forceId];
                        } else {
                            // Show notification if trying to select more than 2
                            const notification = document.getElementById('notification-bar');
                            if(notification) {
                                notification.classList.add('show');
                                setTimeout(() => notification.classList.remove('show'), 3000);
                            }
                            return prev;
                        }
                    }
                });
            };
            
            const toggleDevMode = () => setDevMode(!devMode);

            const devFillData = () => {
                setDevFillLoading(true);
                try {
                    const testData = JSON.parse(document.getElementById('testData').textContent);
                    setCustomers(testData.customers);
                    setCompetitors(testData.competitors);
                    setSubstitutes(testData.substitutes);
                    setSuppliers(testData.suppliers);
                    setNewEntrants(testData.newEntrants);
                    setSelectedForces(testData.selectedForces || []);
                    console.log('✅ Dev data loaded successfully');
                } catch (error) {
                    console.error('❌ Failed to load dev data:', error);
                } finally {
                    setDevFillLoading(false);
                }
            };
            
            const generateMarkdownSummary = () => {
                const timestamp = new Date().toLocaleString();
                const topForcesText = selectedForces.length > 0 ? selectedForces.map(f => f.charAt(0).toUpperCase() + f.slice(1)).join(', ') : '[Not selected]';

                return `# Competitive Strategy: Competitive Field Snapshot
Generated: ${timestamp}

### 📋 Executive Summary
- **Top Two Forces Identified:** ${topForcesText}
- **Status:** Activity Complete

### 🌏 Competitive Forces Analysis

#### 🎯 Customers (Buyers)
${customers || '[Not provided]'}

#### ⚔️ Competitors (Direct Rivals)
${competitors || '[Not provided]'}

#### 🔄 Substitutes / DIY
${substitutes || '[Not provided]'}

#### 🔗 Suppliers / Dependencies
${suppliers || '[Not provided]'}

#### 🚀 New Entrants
${newEntrants || '[Not provided]'}

---
### 📅 Assessment Details
- **Activity:** 1 - Competitive Field Snapshot
- **Workshop:** Competitive Strategy Principles
- **Next Step:** Use the top two forces to inform 'Where to Play' choices.
`;
            };

            const handleCopyToClipboard = () => {
                const copyToClipboard = async (text) => {
                    try {
                        if (navigator.clipboard && navigator.clipboard.writeText) {
                            await navigator.clipboard.writeText(text);
                            return true;
                        } else {
                            // Fallback for older browsers
                            const textArea = document.createElement('textarea');
                            textArea.value = text;
                            textArea.style.position = 'fixed';
                            textArea.style.left = '-999999px';
                            document.body.appendChild(textArea);
                            textArea.select();
                            const successful = document.execCommand('copy');
                            document.body.removeChild(textArea);
                            return successful;
                        }
                    } catch (err) {
                        return false;
                    }
                };

                const markdown = generateMarkdownSummary();
                const statusDiv = document.getElementById('copyStatus');
                
                copyToClipboard(markdown).then((success) => {
                    if (success) {
                        // Show success status
                        statusDiv.innerHTML = `
                            <div class="mt-2 bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded-lg">
                                <p class="font-medium">✅ Copied to Clipboard!</p>
                                <p class="text-sm mt-1">Now paste in Google Docs: <strong>Edit → Paste special → Paste from markdown</strong></p>
                            </div>
                        `;
                        
                        // Floating notification
                        const notification = document.createElement('div');
                        notification.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #22c55e; color: white; padding: 16px 24px; border-radius: 8px; z-index: 9999;';
                        notification.textContent = '✅ Activity summary copied!';
                        document.body.appendChild(notification);
                        
                        setTimeout(() => {
                            notification.style.transition = 'opacity 0.5s';
                            notification.style.opacity = '0';
                            setTimeout(() => notification.remove(), 500);
                        }, 2500);
                    }
                });
            };


            return (
                <div className="max-w-6xl mx-auto p-4 md:p-8" style={{backgroundColor: '#fafafa', minHeight: '100vh'}}>
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        <div className="flex justify-between items-center w-full mb-2">
                            <a href="index.html" className="text-orange-600 hover:text-orange-700 font-medium text-sm">← Back to Workshop</a>
                            <a href="../index.html" className="text-orange-600 hover:text-orange-700 font-medium text-sm">All GTM Workshops ↑</a>
                        </div>
                        <div className="border-t border-gray-200 mt-3 pt-4">
                            <h1 onDoubleClick={toggleDevMode} className={`text-xl font-bold text-gray-800 cursor-pointer select-none ${devMode ? 'text-orange-600' : ''}`} title="Double-click to toggle dev mode">
                                Activity 1: Competitive Field Snapshot {devMode && '🔧'}
                            </h1>
                            <p className="text-gray-600 text-sm mt-1">Identify the pressures shaping your market, then select the <strong>top two forces</strong> that matter most to your startup right now.</p>
                             {devMode && (
                                <div className="mt-3 pt-3 border-t border-orange-200">
                                    <div className="flex items-center justify-between">
                                        <span className="text-xs text-orange-600 font-medium">🔧 Dev Mode Active</span>
                                        <button onClick={devFillData} disabled={devFillLoading} className="bg-orange-500 text-white px-3 py-1 rounded text-xs hover:bg-orange-600 transition-colors disabled:opacity-50">
                                            {devFillLoading ? '⏳ Loading...' : '📝 Fill Test Data'}
                                        </button>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>

                    {/* Progress Bar */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6">
                        <div className="flex items-center justify-between mb-2">
                            <span className="text-sm font-medium text-gray-700">Progress</span>
                            <span className="text-sm text-gray-600">{Math.round(progressPercentage)}% Complete</span>
                        </div>
                        <div className="w-full bg-gray-200 rounded-full h-2">
                            <div className="bg-orange-500 h-2 rounded-full transition-all duration-300" style={{width: `${progressPercentage}%`}}></div>
                        </div>
                        <div className="mt-2 text-xs text-gray-500">
                            Fill out all 5 forces to enable selection of top two forces
                        </div>
                    </div>

                    <div id="notification-bar" className="fixed top-5 right-5 bg-yellow-500 text-white px-6 py-3 rounded-lg shadow-lg opacity-0 transition-opacity duration-300 pointer-events-none z-50">You can only select up to two forces.</div>
                    <style>{`
                        #notification-bar.show {
                            opacity: 1 !important;
                        }
                    `}</style>

                    <div className="relative w-full h-[900px] my-10 hidden md:block">
                        {/* Center Interactive Competitors Box */}
                        <div className={`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-80 bg-[#3B82F6] text-white rounded-xl flex flex-col p-4 z-10 shadow-lg transition-all duration-300 ${selectedForces.includes('competitors') ? 'ring-4 ring-orange-400' : ''}`}>
                            <div className="flex justify-between items-center mb-2">
                                <h3 className="text-base font-semibold">Competitors (Rivals)</h3>
                                <div className="relative group">
                                    <span className="text-blue-200 cursor-pointer border border-blue-200 rounded-full w-5 h-5 flex items-center justify-center text-xs">?</span>
                                    <div className="absolute bottom-full left-1/2 -translate-x-1/2 w-60 p-2 bg-gray-700 text-white text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none mb-2 z-10">
                                        Be specific. Name companies, not 'everyone.'
                                    </div>
                                </div>
                            </div>
                            <p className="text-xs text-blue-100 mb-2">Who else is chasing this problem?</p>
                            <textarea
                                value={competitors}
                                onChange={(e) => setCompetitors(e.target.value)}
                                placeholder="e.g., New Relic, Datadog"
                                className="w-full laptop-textarea p-3 border border-blue-300 rounded-lg text-sm text-gray-800 bg-white/90 focus:bg-white focus:border-orange-500 focus:ring-2 focus:ring-orange-200 placeholder-gray-400 resize-none"
                            />
                            <div className="flex justify-between items-center mt-1">
                                <span className="text-xs text-blue-200">
                                    (describe in 5+ words)
                                </span>
                                <span className={`text-sm flex items-center gap-1 ${competitors.trim().split(/\s+/).filter(w => w.length > 0).length >= 5 ? 'text-white' : 'text-blue-200'}`}>
                                    {competitors.trim().split(/\s+/).filter(w => w.length > 0).length} words
                                    {competitors.trim().split(/\s+/).filter(w => w.length > 0).length >= 5 && <span>✓</span>}
                                </span>
                            </div>
                            <button 
                                onClick={() => handleForceSelection('competitors')} 
                                className={`mt-2 w-full py-1.5 px-3 text-sm font-semibold rounded-md transition-colors ${selectedForces.includes('competitors') ? 'bg-orange-500 text-white' : 'bg-white/20 text-white hover:bg-white/30'}`}
                                disabled={competitors.trim().length < 25}
                            >
                                {selectedForces.includes('competitors') ? '✓ Selected' : 'Select as Top Force'}
                            </button>
                        </div>
                        
                        <ForceBox id="newEntrants" title="New Entrants" question="Who else could easily enter?" tooltip="Adjacent startups, big tech expansions." placeholder="e.g., Grafana Labs could extend into this." value={newEntrants} setter={setNewEntrants} selectedForces={selectedForces} handleForceSelection={handleForceSelection} />
                        <ForceBox id="suppliers" title="Suppliers / Dependencies" question="What providers do you depend on?" tooltip="APIs, data sources, platforms. If they change terms, what happens?" placeholder="e.g., AWS logs API." value={suppliers} setter={setSuppliers} selectedForces={selectedForces} handleForceSelection={handleForceSelection} />
                        <ForceBox id="customers" title="Customers (Buyers)" question="How much choice do they have?" tooltip="Buyers with many choices have more power." placeholder="e.g., Mid-market IT leads have 10+ choices." value={customers} setter={setCustomers} selectedForces={selectedForces} handleForceSelection={handleForceSelection} />
                        <ForceBox id="substitutes" title="Substitutes / DIY" question="How else can buyers solve this?" tooltip="DIY scripts, spreadsheets, consultants all count." placeholder="e.g., Python scripts + cron jobs." value={substitutes} setter={setSubstitutes} selectedForces={selectedForces} handleForceSelection={handleForceSelection} />

                        {/* Arrows removed - to be fixed later */}
                        

                        {/* Positioning for Force Boxes - Balanced spacing */}
                        <style>{`
                            #newEntrants { top: 60px; left: 50%; transform: translateX(-50%); }
                            #suppliers { top: 50%; left: -20px; transform: translateY(-50%); }
                            #customers { top: 50%; right: -20px; transform: translateY(-50%); }
                            #substitutes { bottom: 60px; left: 50%; transform: translateX(-50%); }
                        `}</style>
                    </div>

                    {/* Mobile / Fallback Layout */}
                    <div className="grid grid-cols-1 md:hidden gap-6">
                         <ForceBox id="newEntrants-mob" title="New Entrants" question="Who else could easily enter?" tooltip="Adjacent startups, big tech expansions." placeholder="e.g., Grafana Labs could extend into this." value={newEntrants} setter={setNewEntrants} selectedForces={selectedForces} handleForceSelection={handleForceSelection} />
                         <ForceBox id="competitors-mob" title="Competitors (Rivals)" question="Who else is chasing this problem?" tooltip="Be specific. Name companies, not 'everyone.'" placeholder="e.g., New Relic, Datadog." value={competitors} setter={setCompetitors} selectedForces={selectedForces} handleForceSelection={handleForceSelection} />
                         <ForceBox id="customers-mob" title="Customers (Buyers)" question="How much choice do they have?" tooltip="Buyers with many choices have more power." placeholder="e.g., Mid-market IT leads have 10+ choices." value={customers} setter={setCustomers} selectedForces={selectedForces} handleForceSelection={handleForceSelection} />
                         <ForceBox id="suppliers-mob" title="Suppliers / Dependencies" question="What providers do you depend on?" tooltip="APIs, data sources, platforms. If they change terms, what happens?" placeholder="e.g., AWS logs API." value={suppliers} setter={setSuppliers} selectedForces={selectedForces} handleForceSelection={handleForceSelection} />
                         <ForceBox id="substitutes-mob" title="Substitutes / DIY" question="How else can buyers solve this?" tooltip="DIY scripts, spreadsheets, consultants all count." placeholder="e.g., Python scripts + cron jobs." value={substitutes} setter={setSubstitutes} selectedForces={selectedForces} handleForceSelection={handleForceSelection} />
                    </div>
                    
                    {/* Export Section */}
                    {activityComplete && (
                        <div className="bg-gray-50 rounded-xl p-6 border border-gray-200 mt-8 animate-fadeIn">
                            <h3 className="text-lg font-semibold text-gray-800 mb-3">📄 Export Your Competitive Field Snapshot</h3>
                            <p className="text-sm text-gray-600 mb-4">
                                Your competitive field analysis has been formatted as a professional markdown report for easy sharing and documentation.
                            </p>
                            
                            <div className="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4">
                                <h5 className="font-medium text-blue-800 mb-2">📌 Google Docs Instructions:</h5>
                                <ol className="text-sm text-blue-700 space-y-1">
                                    <li>1. Click "Copy Activity Summary" below</li>
                                    <li>2. Open Google Docs and create a new document</li>
                                    <li>3. Go to <strong>Edit → Paste special → Paste from markdown</strong></li>
                                    <li>4. Your report will appear with proper formatting!</li>
                                </ol>
                                <p className="text-xs text-blue-600 mt-2">
                                    💡 <strong>Tip:</strong> "Paste from markdown" preserves all formatting including headers and sections.
                                </p>
                            </div>

                            <textarea
                                id="markdownSummary"
                                readOnly
                                className="w-full h-64 text-sm p-3 font-mono border border-gray-200 rounded-lg bg-gray-50 resize-none mb-3"
                                value={generateMarkdownSummary()}
                            />
                            
                            <div className="flex flex-col items-center">
                                <button
                                    onClick={handleCopyToClipboard}
                                    className="bg-orange-500 text-white px-6 py-2.5 rounded-lg font-medium hover:bg-orange-600 transition-colors"
                                >
                                    📋 Copy Activity Summary
                                </button>
                                <div id="copyStatus"></div>
                            </div>
                        </div>
                    )}

                    {/* Action Buttons */}
                    <div className="flex justify-between items-center mt-8 gap-4">
                        <button
                            onClick={resetActivity}
                            className="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors font-medium flex-shrink-0"
                        >
                            Reset Activity
                        </button>
                        
                        <button
                            onClick={() => {
                                if (activityComplete) {
                                    window.location.href = 'index.html';
                                } else {
                                    // Generate export and show completion
                                    setActivityComplete(true);
                                }
                            }}
                            className={`px-4 py-2 rounded-lg font-medium transition-colors flex-shrink-0 ${
                                activityComplete 
                                    ? 'bg-gray-500 text-white hover:bg-gray-600' 
                                    : selectedForces.length >= 2 
                                        ? 'bg-green-500 text-white hover:bg-green-600'
                                        : 'bg-gray-400 text-gray-200 cursor-not-allowed'
                            }`}
                            disabled={selectedForces.length < 2}
                        >
                            {activityComplete ? 'Return to Workshop' : 'Generate Report'}
                        </button>
                        
                        <button
                            onClick={() => {
                                console.log('Continue button clicked, selectedForces:', selectedForces);
                                if (!activityComplete) {
                                    setActivityComplete(true);
                                }
                                window.location.href = 'competitive-activity-2A.html';
                            }}
                            className={`px-4 py-2 rounded-lg font-semibold transition-colors flex-shrink-0 ${
                                selectedForces.length >= 2 
                                    ? 'bg-orange-500 text-white hover:bg-orange-600'
                                    : 'bg-gray-400 text-gray-200 cursor-not-allowed'
                            }`}
                            disabled={selectedForces.length < 2}
                        >
                            Continue to Activity 2
                        </button>
                    </div>
                </div>
            );
        };

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<CompetitiveSnapshotActivity />);
    </script>
</body>
</html>