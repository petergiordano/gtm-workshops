<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECP Hypothesis Builder Activity</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
        }
        .lucide-icon {
            width: 20px;
            height: 20px;
            display: inline-block;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- Test Data from test_data/ecp-activity-3A.json -->
    <script type="application/json" id="testData">
    {
      "commonNeeds": "Development teams who are struggling to prevent API failures before they impact customers have this problem most urgently. They need solutions that can provide preemptive action rather than just reactive monitoring.",
      "problemUrgency": "The problem is urgent because these customers are currently experiencing API issues weekly, with each failure costing approximately $100,000 per hour in lost revenue. This leads to significant operational costs, manual interventions, and lost productivity.",
      "desiredBusinessValue": "Customers desire increased overall profitability and operational efficiency through reduced API failure-related operational costs and decreased Mean Time to Resolution (MTTR) for API incidents. They also seek early warnings, automated problem resolution, measurable reliability improvements like a 50% reduction in downtime, and 90% faster incident response.",
      "basicCustomerProfile": "Mid to large-sized companies with modern API infrastructure and established DevOps teams are most likely to have this urgent problem. Specifically, this includes high-growth SaaS companies (Series B+) and large enterprises (cloud-native, Fortune 500) with critical API infrastructure and high downtime costs.",
      "currentStep": 1
    }
    </script>

    <script type="text/babel">
        const { useState } = React;

        // Icon components
        const Clock = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12,6 12,12 16,14"/>
            </svg>
        );

        const CheckCircle = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                <polyline points="22,4 12,14.01 9,11.01"/>
            </svg>
        );

        const Lightbulb = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="m15 14 5-5-5-5"/>
                <path d="M9 9.5c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5.448-1.5 1-1.5 1 .672 1 1.5z"/>
                <path d="m15 14-6-6"/>
            </svg>
        );

        const FileText = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14,2 14,8 20,8"/>
                <line x1="16" y1="13" x2="8" y2="13"/>
                <line x1="16" y1="17" x2="8" y2="17"/>
                <line x1="10" y1="9" x2="8" y2="9"/>
            </svg>
        );

        const X = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="18" y1="6" x2="6" y2="18"/>
                <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
        );

        const AlertCircle = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="8" x2="12" y2="12"/>
                <line x1="12" y1="16" x2="12.01" y2="16"/>
            </svg>
        );

        const Copy = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
            </svg>
        );

        // Removed ImportSection component - using embedded test data instead

        const ECPBuilderActivity = () => {
            // Removed Progress Code System - using embedded test data instead

            // State Management
            const [currentStep, setCurrentStep] = useState(1);
            const [responses, setResponses] = useState({});
            const [completedSteps, setCompletedSteps] = useState([]);
            const [activityComplete, setActivityComplete] = useState(false);
            
            // Dev mode state
            const [devMode, setDevMode] = useState(false);
            const [devFillLoading, setDevFillLoading] = useState(false);

            // Reusable dev mode hook for loading test data
            const loadTestDataFromScript = (setters) => {
                try {
                    const dataEl = document.getElementById('testData');
                    if (dataEl) {
                        const data = JSON.parse(dataEl.textContent);
                        Object.entries(setters).forEach(([key, setter]) => {
                            if (data[key] !== undefined) {
                                setter(data[key]);
                            }
                        });
                        console.log('‚úÖ Test data loaded successfully from script tag');
                        return true;
                    } else {
                        console.error('‚ùå Test data script tag not found');
                        return false;
                    }
                } catch (error) {
                    console.error('‚ùå Failed to parse test data:', error);
                    return false;
                }
            };

            // Dev fill function (uses embedded test data)
            const devFillData = () => {
                setDevFillLoading(true);
                try {
                    const testData = JSON.parse(document.getElementById('testData').textContent);
                    
                    setResponses({
                        commonNeeds: testData.commonNeeds,
                        problemUrgency: testData.problemUrgency,
                        desiredBusinessValue: testData.desiredBusinessValue,
                        basicCustomerProfile: testData.basicCustomerProfile
                    });
                    setCompletedSteps(['commonNeeds', 'problemUrgency', 'desiredBusinessValue', 'basicCustomerProfile']);
                    setCurrentStep(testData.currentStep || 1);
                    
                    console.log('‚úÖ Dev data loaded successfully (from embedded test data)');
                } catch (error) {
                    console.error('‚ùå Failed to load dev data:', error);
                    alert(`Failed to load test data: ${error.message}`);
                } finally {
                    setDevFillLoading(false);
                }
            };

            // Toggle dev mode (double-click title)
            const toggleDevMode = () => {
                setDevMode(!devMode);
                console.log(devMode ? 'üîí Dev mode disabled' : 'üîì Dev mode enabled');
            };

            // Markdown export function for professional activity summary
            const generateMarkdownSummary = () => {
                const completionPercentage = Math.round((completedSteps.length / 4) * 100);
                const activityStatus = completedSteps.length === 4 ? 'Complete ECP Framework üü¢' : 
                                      completedSteps.length >= 3 ? 'Nearly Complete üü°' : 
                                      'In Progress üü†';
                
                return `# Finding Your Early Customers: ECP Hypothesis Builder

### üìã Executive Summary

**Activity Completion Status: ${completionPercentage}%**

**ECP Development Progress: ${activityStatus}**
- Completed Steps: ${completedSteps.length}/4 ECP characteristics defined
- Completion time: ${new Date().toLocaleDateString('en-US', { 
  weekday: 'long', 
  month: 'long', 
  day: 'numeric',
  year: 'numeric'
})}

---

### üéØ Early Customer Profile Framework

**1. Common Needs (Target Customer & Core Problem)**
${responses.commonNeeds || '[Not completed]'}

**2. Problem Urgency (Frequency & Impact)**
${responses.problemUrgency || '[Not completed]'}

**3. Desired Business Value (ROI & Outcomes)**
${responses.desiredBusinessValue || '[Not completed]'}

**4. Basic Customer Profile (Company Characteristics)**
${responses.basicCustomerProfile || '[Not completed]'}

---

### üîç ECP Validation Checklist

**Framework Completeness:**
- ‚úÖ Common Needs: ${responses.commonNeeds ? 'Defined' : 'Pending'}
- ‚úÖ Problem Urgency: ${responses.problemUrgency ? 'Defined' : 'Pending'}  
- ‚úÖ Business Value: ${responses.desiredBusinessValue ? 'Defined' : 'Pending'}
- ‚úÖ Customer Profile: ${responses.basicCustomerProfile ? 'Defined' : 'Pending'}

### üí° Strategic Next Steps

**With Your Completed ECP:**
1. **Customer Discovery Interviews** - Test your assumptions with 10-15 target customers
2. **Problem Validation** - Confirm urgency and willingness to pay for solutions
3. **Market Segmentation** - Refine customer characteristics based on interview insights
4. **Solution Development** - Design MVP features that address your validated ECP

**Key Success Metrics:**
- Interview completion rate >80% (indicates good customer targeting)
- Problem confirmation rate >60% (validates urgency assumption)
- Budget authority identification >50% (confirms buying potential)

### üìÖ Assessment Details

**Report Generated:** ${new Date().toLocaleDateString('en-US', { 
  weekday: 'long', 
  year: 'numeric', 
  month: 'long', 
  day: 'numeric',
  hour: '2-digit',
  minute: '2-digit',
  timeZoneName: 'short'
})}

**Activity:** ECP Hypothesis Builder (Activity 3 of 3)  
**Workshop Series:** Finding Your Early Customers - GTM Program  
**Next Steps:** Begin customer discovery interviews with your defined ECP

*This comprehensive ECP framework provides the foundation for effective customer discovery and market validation. Use these insights to guide your next phase of customer development.*`;
            };

            // Removed ExportSection component - using embedded test data instead

            // Removed handleImport function - using embedded test data instead

            const ecpElements = [
                {
                    id: 'commonNeeds',
                    title: 'Common Needs',
                    subtitle: 'Jobs to be Done',
                    prompt: 'Based on the problem you validated yesterday, WHO has this problem most urgently?',
                    placeholder: 'We believe our early customers are...\n\nExample: "Development teams at fast-growing tech companies who need to prevent API failures because they directly impact customer experience and revenue"',
                    hint: 'Think about the TYPE of organization and ROLE of people who feel this problem most acutely'
                },
                {
                    id: 'problemUrgency', 
                    title: 'Problem Urgency',
                    subtitle: 'Why Now?',
                    prompt: 'What makes this problem URGENT for your target customers right now?',
                    placeholder: 'Our customers need to solve this NOW because...\n\nExample: "They are experiencing API issues weekly, each outage costs $50k+ in lost revenue, and their current monitoring tools only detect problems after customer impact"',
                    hint: 'Focus on pain points that drive immediate action - financial impact, competitive pressure, compliance needs'
                },
                {
                    id: 'desiredBusinessValue',
                    title: 'Desired Business Value', 
                    subtitle: 'Success Metrics',
                    prompt: 'What specific business outcomes do your customers want to achieve?',
                    placeholder: 'Success for our customers looks like...\n\nExample: "Reduce API downtime by 80%, improve incident response time from 2 hours to 15 minutes, prevent $500k annual revenue loss from outages"',
                    hint: 'Be specific with numbers, percentages, time savings, or cost reductions'
                },
                {
                    id: 'basicCustomerProfile',
                    title: 'Basic Customer Profile',
                    subtitle: 'Company Characteristics', 
                    prompt: 'What type of companies are most likely to have this urgent problem?',
                    placeholder: 'Our ideal early customers are...\n\nExample: "B2B SaaS companies with 100-1000 employees, $10M-100M revenue, heavy API usage, modern cloud infrastructure, located in North America"',
                    hint: 'Think industry, company size, technology adoption, geography, growth stage'
                }
            ];

            const handleResponseChange = (elementId, value) => {
                const newResponses = { ...responses, [elementId]: value };
                setResponses(newResponses);
                
                // Update completed steps based on all responses (using element IDs)
                const updatedCompletedSteps = [];
                ecpElements.forEach(element => {
                    if (newResponses[element.id] && newResponses[element.id].length >= 50) {
                        updatedCompletedSteps.push(element.id);
                    }
                });
                setCompletedSteps(updatedCompletedSteps);
            };

            const resetActivity = () => {
                setResponses({});
                setCompletedSteps([]);
                setCurrentStep(1);
            };

            const nextStep = () => {
                const newStep = Math.min(currentStep + 1, 3);
                setCurrentStep(newStep);
                
                // If moving to step 3, complete the activity
                if (newStep === 3 && !activityComplete) {
                    setActivityComplete(true);
                    console.log('[ECP-3] Activity completed successfully');
                }
            };
            
            const prevStep = () => setCurrentStep(Math.max(currentStep - 1, 1));

            const renderBuilderStep = () => (
                <div className="space-y-6">
                    <button
                        onClick={resetActivity}
                        className="absolute -top-2 -right-2 w-8 h-8 bg-gray-200 hover:bg-orange-500 hover:text-white rounded-full flex items-center justify-center transition-all duration-200 text-gray-600"
                        title="Reset Activity"
                    >
                        <span className="text-lg font-bold">‚Üª</span>
                    </button>


                    {/* ECP Building Form */}
                    <div className="space-y-8">
                        {ecpElements.map((element, index) => (
                            <div key={element.id} className="border-2 border-gray-200 rounded-lg p-6">
                                <div className="flex items-start justify-between mb-4">
                                    <div>
                                        <h4 className="text-lg font-bold text-gray-800 flex items-center">
                                            <span className="w-8 h-8 bg-orange-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">
                                                {index + 1}
                                            </span>
                                            {element.title}
                                        </h4>
                                        <p className="text-orange-600 font-medium text-sm ml-11">{element.subtitle}</p>
                                    </div>
                                    {completedSteps.includes(element.id) ? (
                                        <CheckCircle className="text-green-500" size={24} />
                                    ) : null}
                                </div>
                                
                                <p className="text-gray-700 font-medium mb-3 ml-11">{element.prompt}</p>
                                <p className="text-gray-500 text-sm mb-3 ml-11 italic">(You must enter at least 10-15 words)</p>
                                
                                <textarea
                                    value={responses[element.id] || ''}
                                    onChange={(e) => handleResponseChange(element.id, e.target.value)}
                                    placeholder={element.placeholder}
                                    className="w-full h-32 p-4 border border-gray-300 rounded-lg resize-none focus:border-orange-500 focus:ring-2 focus:ring-orange-200 text-sm"
                                />
                                
                                <div className="bg-blue-50 border-l-4 border-blue-400 p-3 mt-3">
                                    <div className="flex items-center">
                                        <Lightbulb className="text-blue-600 mr-2" size={16} />
                                        <p className="text-blue-700 text-sm font-medium">Hint:</p>
                                    </div>
                                    <p className="text-blue-600 text-sm mt-1">{element.hint}</p>
                                </div>
                            </div>
                        ))}
                    </div>

                    {completedSteps.length >= 2 && (
                        <div className="text-center">
                            <button
                                onClick={nextStep}
                                className="bg-orange-500 text-white px-8 py-3 rounded-lg hover:bg-orange-600 transition-colors font-semibold"
                            >
                                Review Your ECP & Plan Validation
                            </button>
                        </div>
                    )}
                </div>
            );

            const renderReviewStep = () => (
                <div className="space-y-6">
                    <div className="text-center mb-6">
                        <h3 className="text-xl font-bold text-gray-800 mb-2">
                            Your Early Customer Profile
                        </h3>
                        <p className="text-gray-600 text-sm">
                            Review your hypotheses and plan how to validate them
                        </p>
                    </div>

                    {/* ECP Summary */}
                    <div className="grid grid-cols-2 gap-6">
                        {ecpElements.map((element) => (
                            <div key={element.id} className="border rounded-lg p-4 bg-gray-50">
                                <h4 className="font-bold text-gray-800 mb-2 text-sm">{element.title}</h4>
                                <div className="text-gray-700 text-sm whitespace-pre-wrap bg-white p-3 rounded border min-h-[100px]">
                                    {responses[element.id] || 'No response provided'}
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Validation Planning */}
                    <div className="bg-orange-50 border-2 border-orange-200 rounded-lg p-6">
                        <h4 className="text-lg font-bold text-orange-800 mb-4">üéØ Next Steps: Validate Your Hypotheses</h4>
                        
                        <div className="space-y-4">
                            <div>
                                <h5 className="font-semibold text-orange-800 mb-2">Immediate Actions (This Week):</h5>
                                <ul className="text-orange-700 text-sm space-y-1 ml-4">
                                    <li>‚Ä¢ Interview 3-5 people who match your target profile</li>
                                    <li>‚Ä¢ Ask about their current pain points and urgency level</li>
                                    <li>‚Ä¢ Validate the business value you think they want</li>
                                </ul>
                            </div>
                            
                            <div>
                                <h5 className="font-semibold text-orange-800 mb-2">Key Validation Questions:</h5>
                                <ul className="text-orange-700 text-sm space-y-1 ml-4">
                                    <li>‚Ä¢ "How are you solving this problem today?"</li>
                                    <li>‚Ä¢ "What would need to be true for this to be a top 3 priority?"</li>
                                    <li>‚Ä¢ "How do you measure success in this area?"</li>
                                </ul>
                            </div>
                        </div>
                    </div>


                    <div className="text-center space-x-4">
                        <button
                            onClick={prevStep}
                            className="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors"
                        >
                            Back to Edit
                        </button>
                        <button
                            onClick={nextStep}
                            className="bg-orange-500 text-white px-8 py-3 rounded-lg hover:bg-orange-600 transition-colors font-semibold"
                        >
                            Finalize & Share
                        </button>
                    </div>
                </div>
            );

            const renderShareStep = () => (
                <div className="space-y-6">
                    <div className="text-center mb-6">
                        <h3 className="text-xl font-bold text-gray-800 mb-2">
                            Ready to Present Your ECP
                        </h3>
                        <p className="text-gray-600 text-sm">
                            Prepare to share your Early Customer Profile with the group
                        </p>
                    </div>

                    <div className="bg-orange-50 border-2 border-orange-200 rounded-lg p-6">
                        <h4 className="text-lg font-bold text-orange-800 mb-4">üé§ Presentation Guide (2 minutes per team)</h4>
                        
                        <div className="space-y-4">
                            <div>
                                <h5 className="font-semibold text-orange-800 mb-2">1. Start with Your Problem (30 seconds):</h5>
                                <p className="text-orange-700 text-sm ml-4">
                                    "Yesterday we validated this problem: [brief problem statement]"
                                </p>
                            </div>
                            
                            <div>
                                <h5 className="font-semibold text-orange-800 mb-2">2. Present Your ECP (90 seconds):</h5>
                                <ul className="text-orange-700 text-sm space-y-1 ml-4">
                                    <li>‚Ä¢ WHO: Our early customers are...</li>
                                    <li>‚Ä¢ WHY NOW: They need this urgently because...</li>
                                    <li>‚Ä¢ SUCCESS: They want to achieve...</li>
                                    <li>‚Ä¢ PROFILE: They're typically...</li>
                                </ul>
                            </div>
                            
                            <div>
                                <h5 className="font-semibold text-orange-800 mb-2">3. Ask for Feedback (30 seconds):</h5>
                                <p className="text-orange-700 text-sm ml-4">
                                    "What questions should we ask to validate these assumptions?"
                                </p>
                            </div>
                        </div>
                    </div>

                    <div className="bg-green-50 border-2 border-green-200 rounded-lg p-6">
                        <h4 className="text-lg font-bold text-green-800 mb-3">‚úÖ What You've Accomplished</h4>
                        <ul className="text-green-700 space-y-2">
                            <li>‚Ä¢ Created a hypothesis-driven Early Customer Profile</li>
                            <li>‚Ä¢ Connected your validated problem to specific customer types</li>
                            <li>‚Ä¢ Defined clear success metrics for your target customers</li>
                            <li>‚Ä¢ Planned concrete validation steps</li>
                            <li>‚Ä¢ Ready to start customer discovery conversations</li>
                        </ul>
                    </div>

                    {/* Export Professional Report */}
                    {completedSteps.length === 4 && (
                        <div className="bg-white border border-gray-300 rounded-lg p-4 mb-6">
                            <div className="flex items-center mb-3">
                                <FileText className="text-blue-600 mr-2" size={20} />
                                <h4 className="font-semibold text-gray-800">üìÑ Export Professional Report</h4>
                            </div>
                            
                            <p className="text-sm text-gray-600 mb-3">
                                Your Early Customer Profile framework has been formatted as a professional markdown report for easy sharing
                                and documentation.
                            </p>

                            <div className="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4">
                                <h5 className="font-medium text-blue-800 mb-2">üìå Google Docs Instructions:</h5>
                                <ol className="text-sm text-blue-700 space-y-1">
                                    <li>1. Click "Copy Activity Summary" below</li>
                                    <li>2. Open Google Docs and create a new document</li>
                                    <li>3. Go to <strong>Edit ‚Üí Paste special ‚Üí Paste from markdown</strong></li>
                                    <li>4. Your report will appear with proper formatting!</li>
                                </ol>
                                <p className="text-xs text-blue-600 mt-2">
                                    üí° <strong>Tip:</strong> "Paste from markdown" preserves all formatting including headers and sections.
                                </p>
                            </div>

                            <textarea
                                id="markdownSummary"
                                readOnly
                                className="w-full h-64 text-sm p-3 font-mono border border-gray-200 rounded-lg bg-gray-50 resize-none mb-3"
                                value={generateMarkdownSummary()}
                            />
                            
                            <div className="flex flex-col items-center">
                                <button
                                    onClick={(event) => {
                                        // Copy to clipboard with fallback
                                        const copyToClipboard = async (text) => {
                                            try {
                                                // Try modern clipboard API first
                                                if (navigator.clipboard && navigator.clipboard.writeText) {
                                                    await navigator.clipboard.writeText(text);
                                                    return true;
                                                } else {
                                                    // Fallback for older browsers or file:// protocol
                                                    const textArea = document.createElement('textarea');
                                                    textArea.value = text;
                                                    textArea.style.position = 'fixed';
                                                    textArea.style.left = '-999999px';
                                                    document.body.appendChild(textArea);
                                                    textArea.focus();
                                                    textArea.select();
                                                    
                                                    try {
                                                        const successful = document.execCommand('copy');
                                                        document.body.removeChild(textArea);
                                                        return successful;
                                                    } catch (err) {
                                                        document.body.removeChild(textArea);
                                                        return false;
                                                    }
                                                }
                                            } catch (err) {
                                                console.error('Copy failed:', err);
                                                return false;
                                            }
                                        };

                                        const el = document.getElementById('markdownSummary');
                                        const statusDiv = document.getElementById('copyStatus');
                                        
                                        copyToClipboard(el.value).then((success) => {
                                            if (success) {
                                                // Show success status below button
                                                statusDiv.innerHTML = `
                                                    <div class="mt-2 bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded-lg">
                                                        <p class="font-medium">‚úÖ Copied to Clipboard!</p>
                                                        <p class="text-sm mt-1">Now paste in Google Docs: <strong>Edit ‚Üí Paste special ‚Üí Paste from markdown</strong></p>
                                                    </div>
                                                `;
                                                
                                                // Also show floating notification
                                                const notification = document.createElement('div');
                                                notification.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #22c55e; color: white; padding: 16px 24px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); z-index: 9999; font-weight: 500;';
                                                notification.textContent = '‚úÖ Activity summary copied!';
                                                document.body.appendChild(notification);
                                                
                                                // Fade out notification
                                                setTimeout(() => {
                                                    notification.style.transition = 'opacity 0.5s';
                                                    notification.style.opacity = '0';
                                                    setTimeout(() => notification.remove(), 500);
                                                }, 2500);
                                                
                                                // Clear status after 3 seconds
                                                setTimeout(() => {
                                                    statusDiv.innerHTML = '';
                                                }, 3000);
                                            } else {
                                                // Show error status
                                                statusDiv.innerHTML = `
                                                    <div class="mt-2 bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded-lg">
                                                        <p class="font-medium">‚ùå Copy Failed</p>
                                                        <p class="text-sm">Please select and copy the text manually.</p>
                                                    </div>
                                                `;
                                                
                                                setTimeout(() => {
                                                    statusDiv.innerHTML = '';
                                                }, 3000);
                                            }
                                        });
                                    }}
                                    className="bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 text-sm font-medium"
                                >
                                    üìã Copy Activity Summary
                                </button>
                                <div id="copyStatus"></div>
                            </div>
                        </div>
                    )}

                    <div className="text-center space-x-4">
                        <button
                            onClick={prevStep}
                            className="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors"
                        >
                            Back to Review
                        </button>
                        <button
                            onClick={resetActivity}
                            className="bg-orange-500 text-white px-8 py-3 rounded-lg hover:bg-orange-600 transition-colors font-semibold"
                        >
                            Start Over for New Team
                        </button>
                    </div>
                </div>
            );

            return (
                <div className="max-w-[1400px] mx-auto p-5 bg-gradient-to-br from-orange-100 to-orange-200 min-h-screen">
                    {/* Header */}
                    <div className="bg-white rounded-lg shadow-lg p-4 mb-4 sticky top-0 z-50">
                        <div className="flex justify-between items-center w-full mb-3">
                            <a 
                                href="index.html" 
                                className="inline-flex items-center text-orange-600 hover:text-orange-700 transition-colors text-sm font-medium"
                            >
                                <span className="mr-1">‚Üê</span> Back to Workshop
                            </a>
                            <a 
                                href="../index.html" 
                                className="inline-flex items-center text-gray-600 hover:text-orange-700 transition-colors text-sm font-medium"
                            >
                                All GTM Workshops <span className="ml-1">‚Üë</span>
                            </a>
                        </div>
                        <div className="flex items-center justify-between mb-3">
                            <h1 
                                className={`text-2xl font-bold text-gray-800 ${devMode ? 'text-orange-600' : ''} cursor-pointer select-none`}
                                onDoubleClick={toggleDevMode}
                                title="Double-click to toggle dev mode"
                            >
                                Activity 3: ECP Hypothesis Builder {devMode && 'üîß'}
                            </h1>
                        </div>
                        
                        {/* Dev Mode Controls */}
                        {devMode && (
                            <div className="mb-3 pb-3 border-b border-orange-200">
                                <div className="flex items-center justify-between">
                                    <span className="text-xs text-orange-600 font-medium">üîß Dev Mode Active</span>
                                    <button
                                        onClick={devFillData}
                                        disabled={devFillLoading}
                                        className="bg-orange-500 text-white px-3 py-1 rounded text-xs hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                                    >
                                        {devFillLoading ? '‚è≥ Loading...' : 'üìù Fill Test Data'}
                                    </button>
                                </div>
                            </div>
                        )}
                        
                        {/* Progress indicator */}
                        <div className="flex items-center space-x-4">
                            <div className={`flex items-center space-x-2 ${currentStep === 1 ? 'text-orange-600' : 'text-gray-400'}`}>
                                <div className={`w-8 h-8 rounded-full flex items-center justify-center ${currentStep === 1 ? 'bg-orange-500 text-white' : 'bg-gray-200'}`}>
                                    1
                                </div>
                                <span className="font-semibold">Build ECP</span>
                            </div>
                            <div className="flex-1 h-1 bg-gray-200 rounded">
                                <div className={`h-full bg-orange-500 rounded transition-all duration-300 ${
                                    currentStep === 1 ? 'w-0' : currentStep === 2 ? 'w-1/2' : 'w-full'
                                }`}></div>
                            </div>
                            <div className={`flex items-center space-x-2 ${currentStep === 2 ? 'text-orange-600' : 'text-gray-400'}`}>
                                <div className={`w-8 h-8 rounded-full flex items-center justify-center ${currentStep === 2 ? 'bg-orange-500 text-white' : 'bg-gray-200'}`}>
                                    2
                                </div>
                                <span className="font-semibold">Review & Plan</span>
                            </div>
                            <div className="flex-1 h-1 bg-gray-200 rounded">
                                <div className={`h-full bg-orange-500 rounded transition-all duration-300 ${currentStep === 3 ? 'w-full' : 'w-0'}`}></div>
                            </div>
                            <div className={`flex items-center space-x-2 ${currentStep === 3 ? 'text-orange-600' : 'text-gray-400'}`}>
                                <div className={`w-8 h-8 rounded-full flex items-center justify-center ${currentStep === 3 ? 'bg-orange-500 text-white' : 'bg-gray-200'}`}>
                                    3
                                </div>
                                <span className="font-semibold">Present</span>
                            </div>
                        </div>
                        
                        {/* Status Grid - show on all steps */}
                        <div className="mt-4">
                            <div className="grid grid-cols-4 gap-2">
                                {ecpElements.map((element, index) => {
                                    const isCompleted = completedSteps.includes(element.id);
                                    const hasContent = responses[element.id] && responses[element.id].length > 0;
                                    
                                    return (
                                        <div
                                            key={element.id}
                                            className={`p-2 rounded-lg text-center text-xs font-medium transition-all duration-200 ${
                                                isCompleted 
                                                    ? 'bg-green-100 border-2 border-green-500 text-green-800'
                                                    : hasContent 
                                                        ? 'bg-orange-100 border-2 border-orange-300 text-orange-800'
                                                        : 'bg-gray-100 border-2 border-gray-200 text-gray-600'
                                            }`}
                                        >
                                            <div className="flex items-center justify-center mb-1">
                                                {isCompleted ? (
                                                    <CheckCircle size={16} className="text-green-600" />
                                                ) : (
                                                    <span className="font-bold">{index + 1}</span>
                                                )}
                                            </div>
                                            {element.title}
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                        
                        {/* Heading - only show on step 1 */}
                        {currentStep === 1 && (
                            <div className="text-center mt-4 mb-4">
                                <h3 className="text-xl font-bold text-gray-800 mb-2">
                                    Build Your Early Customer Profile
                                </h3>
                                <p className="text-gray-600 text-sm">
                                    Create hypotheses about your ideal early customers based on your validated problem
                                </p>
                            </div>
                        )}
                        
                    </div>

                    {/* Removed ImportSection - using embedded test data instead */}

                    {/* Main Content */}
                    <div className="bg-white rounded-lg shadow-lg p-6 relative">
                        {currentStep === 1 && renderBuilderStep()}
                        {currentStep === 2 && renderReviewStep()}
                        {currentStep === 3 && renderShareStep()}
                    </div>

                    {/* Footer decoration */}
                    <div className="mt-4 text-center">
                        <div className="w-12 h-12 mx-auto bg-white bg-opacity-30 rounded-full flex items-center justify-center">
                            <div className="w-8 h-8 border-4 border-white border-opacity-50 rounded-full"></div>
                        </div>
                    </div>
                </div>
            );
        };

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<ECPBuilderActivity />);
    </script>
</body>
</html>