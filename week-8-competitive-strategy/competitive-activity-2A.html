<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activity 2: Play & Win Choices</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Raleway:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', 'Raleway', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background-color: #fafafa;
        }
        .animate-fadeIn {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .step-icon {
            width: 48px;
            height: 48px;
            background-color: #FF9000;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            flex-shrink: 0;
        }
        input::placeholder {
            color: #9CA3AF;
        }
        @media (max-width: 768px) {
            .fields-grid {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="application/json" id="testData">
    {
        "targetSegment": "Mid-market B2B SaaS companies",
        "specificBuyer": "Heads of DevOps and Engineering Directors", 
        "urgentProblem": "Who experience weekly API failures costing $50K+ per incident",
        "whereNotToPlay": "We will not serve the Fortune 500 or companies without a dedicated DevOps team",
        "value1": "Preemptive Problem Resolution",
        "capability1": "Proprietary Machine Learning Models",
        "value2": "Automated Resolution & Cost Savings",
        "capability2": "Enhanced Automated Problem Resolution Engine",
        "value3": "Comprehensive Visibility",
        "capability3": "Seamless Cross-Platform Integration",
        "spacesAssumption": "A distinct 'Predictive API Operations' category can be created and is not just a feature of the broader APM market",
        "valueAssumption": "VPs of Engineering will pay a premium price (>$50k/year) for a predictive solution when they already have 'good enough' reactive tools",
        "capabilitiesAssumption": "We can maintain our technological lead in predictive accuracy even when large competitors begin investing in their own AI/ML capabilities",
        "reactionAssumption": "Major competitors will not quickly acquire a smaller AI-native startup to neutralize our advantage or bundle a 'good enough' predictive feature",
        "selectedRiskiestKey": "value",
        "testObjective": "Confirm that target customers perceive quantifiable value in prevention that justifies our target price",
        "theTest": "Conduct 25 in-depth value-proposition interviews with VPs of Engineering and Directors of DevOps using ROI model and Van Westendorp Price Sensitivity Meter",
        "theMetric": "At least 60% (15 out of 25) validate the ROI model as compelling and state willingness-to-pay within our $50k-$75k ARR range"
    }
    </script>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const WORKSHOP_STORAGE_KEY = 'workshopState_competitive_strategy';

        /**
         * Loads the entire workshop state from localStorage using a specific key.
         * @param {string} storageKey - The unique key for the workshop's state.
         * @returns {object} The parsed workshop state or an empty object.
         */
        const loadWorkshopState = (storageKey) => {
            try {
                const savedState = localStorage.getItem(storageKey);
                return savedState ? JSON.parse(savedState) : {};
            } catch (error) {
                console.error("Could not load state from localStorage", error);
                return {};
            }
        };

        /**
         * Saves a piece of state by merging it into the existing workshop state.
         * @param {object} stateToSave - An object containing the key-value pairs to save.
         * @param {string} storageKey - The unique key for the workshop's state.
         */
        const saveWorkshopState = (stateToSave, storageKey) => {
            try {
                const currentState = loadWorkshopState(storageKey);
                const newState = { ...currentState, ...stateToSave };
                localStorage.setItem(storageKey, JSON.stringify(newState));
            } catch (error) {
                console.error("Could not save state to localStorage", error);
            }
        };

        // Helper component for input fields with tooltips - MOVED OUTSIDE COMPONENT
        const InputField = ({ label, tooltip, placeholder, value, setter }) => (
            <div>
                <label className="block text-sm font-medium text-gray-700 mb-2 relative group">
                    {label}
                    <span className="absolute -top-1 -right-1 text-gray-400 cursor-pointer border border-gray-400 rounded-full w-5 h-5 flex items-center justify-center text-xs">?</span>
                    <span className="absolute bottom-full left-1/2 -translate-x-1/2 w-60 p-2 bg-gray-700 text-white text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none mb-2 z-10">
                        {tooltip}
                    </span>
                </label>
                <input
                    type="text"
                    value={value}
                    onChange={(e) => setter(e.target.value)}
                    placeholder={placeholder}
                    className="w-full p-3 border border-gray-300 rounded-lg text-sm focus:border-orange-500 focus:ring-2 focus:ring-orange-200"
                />
            </div>
        );

        const PlayWinChoicesActivity = () => {
            // Step 1: Where to Play fields - initialized from localStorage
            const [targetSegment, setTargetSegment] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).targetSegment || '');
            const [specificBuyer, setSpecificBuyer] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).specificBuyer || '');
            const [urgentProblem, setUrgentProblem] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).urgentProblem || '');
            const [whereNotToPlay, setWhereNotToPlay] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).whereNotToPlay || '');
            
            // Step 2: How to Win fields - Value/Capability pairs - initialized from localStorage
            const [value1, setValue1] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).value1 || '');
            const [capability1, setCapability1] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).capability1 || '');
            const [value2, setValue2] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).value2 || '');
            const [capability2, setCapability2] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).capability2 || '');
            const [value3, setValue3] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).value3 || '');
            const [capability3, setCapability3] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).capability3 || '');
            
            // Step 3: Riskiest Assumption - SPACES Framework - initialized from localStorage
            const [spacesAssumption, setSpacesAssumption] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).spacesAssumption || '');
            const [valueAssumption, setValueAssumption] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).valueAssumption || '');
            const [capabilitiesAssumption, setCapabilitiesAssumption] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).capabilitiesAssumption || '');
            const [reactionAssumption, setReactionAssumption] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).reactionAssumption || '');
            const [selectedRiskiestKey, setSelectedRiskiestKey] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).selectedRiskiestKey || '');
            
            // Step 3B: Test Design - initialized from localStorage
            const [testObjective, setTestObjective] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).testObjective || '');
            const [theTest, setTheTest] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).theTest || '');
            const [theMetric, setTheMetric] = useState(loadWorkshopState(WORKSHOP_STORAGE_KEY).theMetric || '');

            const [activityComplete, setActivityComplete] = useState(false);
            const [showExportSection, setShowExportSection] = useState(false);
            const [devMode, setDevMode] = useState(false);
            const [devFillLoading, setDevFillLoading] = useState(false);
            
            // Calculate progress based on filled fields
            const getFilledFieldsCount = () => {
                let count = 0;
                if (targetSegment.trim().length > 3) count++;
                if (specificBuyer.trim().length > 3) count++;
                if (urgentProblem.trim().length > 3) count++;
                if (whereNotToPlay.trim().length > 3) count++;
                if (value1.trim().length > 3) count++;
                if (capability1.trim().length > 3) count++;
                if (value2.trim().length > 3) count++;
                if (capability2.trim().length > 3) count++;
                if (value3.trim().length > 3) count++;
                if (capability3.trim().length > 3) count++;
                if (spacesAssumption.trim().length > 3) count++;
                if (valueAssumption.trim().length > 3) count++;
                if (capabilitiesAssumption.trim().length > 3) count++;
                if (reactionAssumption.trim().length > 3) count++;
                if (testObjective.trim().length > 3) count++;
                if (theTest.trim().length > 3) count++;
                if (theMetric.trim().length > 3) count++;
                return count;
            };
            
            const filledFieldsCount = getFilledFieldsCount();
            const progressPercentage = (filledFieldsCount / 17) * 100;

            // Check if all fields have meaningful content (>3 characters)
            useEffect(() => {
                const allFieldsFilled = filledFieldsCount === 17;
                setActivityComplete(allFieldsFilled);
            }, [targetSegment, specificBuyer, urgentProblem, whereNotToPlay, value1, capability1, value2, capability2, value3, capability3, spacesAssumption, valueAssumption, capabilitiesAssumption, reactionAssumption, testObjective, theTest, theMetric]);

            // Auto-save state to localStorage whenever any form data changes
            useEffect(() => {
                const currentState = {
                    targetSegment,
                    specificBuyer,
                    urgentProblem,
                    whereNotToPlay,
                    value1,
                    capability1,
                    value2,
                    capability2,
                    value3,
                    capability3,
                    spacesAssumption,
                    valueAssumption,
                    capabilitiesAssumption,
                    reactionAssumption,
                    selectedRiskiestKey,
                    testObjective,
                    theTest,
                    theMetric
                };
                saveWorkshopState(currentState, WORKSHOP_STORAGE_KEY);
            }, [targetSegment, specificBuyer, urgentProblem, whereNotToPlay, value1, capability1, value2, capability2, value3, capability3, spacesAssumption, valueAssumption, capabilitiesAssumption, reactionAssumption, selectedRiskiestKey, testObjective, theTest, theMetric]);

            const toggleDevMode = () => setDevMode(!devMode);

            const devFillData = () => {
                setDevFillLoading(true);
                try {
                    const testData = JSON.parse(document.getElementById('testData').textContent);
                    setTargetSegment(testData.targetSegment);
                    setSpecificBuyer(testData.specificBuyer);
                    setUrgentProblem(testData.urgentProblem);
                    setWhereNotToPlay(testData.whereNotToPlay);
                    setValue1(testData.value1);
                    setCapability1(testData.capability1);
                    setValue2(testData.value2);
                    setCapability2(testData.capability2);
                    setValue3(testData.value3);
                    setCapability3(testData.capability3);
                    setSpacesAssumption(testData.spacesAssumption);
                    setValueAssumption(testData.valueAssumption);
                    setCapabilitiesAssumption(testData.capabilitiesAssumption);
                    setReactionAssumption(testData.reactionAssumption);
                    setSelectedRiskiestKey(testData.selectedRiskiestKey);
                    setTestObjective(testData.testObjective);
                    setTheTest(testData.theTest);
                    setTheMetric(testData.theMetric);
                    console.log('✅ Dev data loaded successfully');
                } catch (error) {
                    console.error('❌ Failed to load dev data:', error);
                } finally {
                    setDevFillLoading(false);
                }
            };
            
            const resetActivity = () => {
                setTargetSegment('');
                setSpecificBuyer('');
                setUrgentProblem('');
                setWhereNotToPlay('');
                setValue1('');
                setCapability1('');
                setValue2('');
                setCapability2('');
                setValue3('');
                setCapability3('');
                setSpacesAssumption('');
                setValueAssumption('');
                setCapabilitiesAssumption('');
                setReactionAssumption('');
                setSelectedRiskiestKey('');
                setTestObjective('');
                setTheTest('');
                setTheMetric('');
                setShowExportSection(false);
                
                // Clear localStorage data for this activity
                const emptyState = {
                    targetSegment: '',
                    specificBuyer: '',
                    urgentProblem: '',
                    whereNotToPlay: '',
                    value1: '',
                    capability1: '',
                    value2: '',
                    capability2: '',
                    value3: '',
                    capability3: '',
                    spacesAssumption: '',
                    valueAssumption: '',
                    capabilitiesAssumption: '',
                    reactionAssumption: '',
                    selectedRiskiestKey: '',
                    testObjective: '',
                    theTest: '',
                    theMetric: ''
                };
                saveWorkshopState(emptyState, WORKSHOP_STORAGE_KEY);
            };

            const generateMarkdownSummary = () => {
                const timestamp = new Date().toLocaleString();
                const selectedAssumption = selectedRiskiestKey === 'spaces' ? spacesAssumption :
                    selectedRiskiestKey === 'value' ? valueAssumption :
                    selectedRiskiestKey === 'capabilities' ? capabilitiesAssumption :
                    selectedRiskiestKey === 'reaction' ? reactionAssumption : '';
                const selectedCategory = selectedRiskiestKey ? selectedRiskiestKey.toUpperCase() : 'UNSELECTED';
                
                return `# Competitive Strategy: Play & Win Choices
Generated: ${timestamp}

## 🎯 Where We Play

**Target Segment:** ${targetSegment || '[Not provided]'}

**Specific Buyer:** ${specificBuyer || '[Not provided]'}

**Urgent Problem:** ${urgentProblem || '[Not provided]'}

**Where We Will NOT Play:** ${whereNotToPlay || '[Not provided]'}

**Strategic Statement:** We play in ${targetSegment || '[segment]'}, for ${specificBuyer || '[buyer]'}, who have ${urgentProblem || '[problem]'}.

**Strategic Trade-off:** To win, we will explicitly not serve ${whereNotToPlay || '[your defined trade-off]'}.

## 🏆 How We Win

Our unique advantage is a system of reinforcing capabilities that deliver exceptional value:

1. **We deliver:** ${value1 || '[Value #1]'}  
   **Through our:** ${capability1 || '[Capability #1]'}

2. **We deliver:** ${value2 || '[Value #2]'}  
   **Through our:** ${capability2 || '[Capability #2]'}

3. **We deliver:** ${value3 || '[Value #3]'}  
   **Through our:** ${capability3 || '[Capability #3]'}

**Strategic Statement:** We win by delivering ${value1 || '[value 1]'} through ${capability1 || '[capability 1]'}, ${value2 || '[value 2]'} through ${capability2 || '[capability 2]'}, and ${value3 || '[value 3]'} through ${capability3 || '[capability 3]'}.

## ⚠️ Riskiest Assumption Analysis (SPACES Framework)

### Strategic Assumptions Identified:

**SPACES (Market Structure):** ${spacesAssumption || '[Not analyzed]'}

**VALUE (Customer Beliefs):** ${valueAssumption || '[Not analyzed]'}

**CAPABILITIES (Core Competencies):** ${capabilitiesAssumption || '[Not analyzed]'}

**REACTION (Competitive Response):** ${reactionAssumption || '[Not analyzed]'}

### Selected Riskiest Assumption:
**Category:** ${selectedCategory}
**Assumption:** ${selectedAssumption || '[Not selected]'}

### Test Design:
**Test Objective:** ${testObjective || '[Not defined]'}

**The Test:** ${theTest || '[Not defined]'}

**Success Metric:** ${theMetric || '[Not defined]'}

---
### 📅 Assessment Details
- **Activity:** 2 - Play & Win Choices
- **Workshop:** Competitive Strategy Principles  
- **Framework:** SPACES Strategic Assumption Analysis
- **Next Step:** Execute the designed test to validate or invalidate the riskiest assumption before proceeding with strategy implementation.
`;
            };

            const handleCopyToClipboard = () => {
                const copyToClipboard = async (text) => {
                    try {
                        if (navigator.clipboard && navigator.clipboard.writeText) {
                            await navigator.clipboard.writeText(text);
                            return true;
                        } else {
                            const textArea = document.createElement('textarea');
                            textArea.value = text;
                            textArea.style.position = 'fixed';
                            textArea.style.left = '-999999px';
                            document.body.appendChild(textArea);
                            textArea.focus();
                            textArea.select();
                            
                            try {
                                const successful = document.execCommand('copy');
                                document.body.removeChild(textArea);
                                return successful;
                            } catch (err) {
                                document.body.removeChild(textArea);
                                return false;
                            }
                        }
                    } catch (err) {
                        console.error('Copy failed:', err);
                        return false;
                    }
                };

                const markdown = generateMarkdownSummary();
                copyToClipboard(markdown).then((success) => {
                    if (success) {
                        const statusDiv = document.getElementById('copyStatus');
                        statusDiv.innerHTML = `
                            <div class="mt-2 bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded-lg animate-fadeIn">
                                <p class="font-medium">✅ Copied to Clipboard!</p>
                                <p class="text-sm mt-1">Now paste in Google Docs: <strong>Edit → Paste special → Paste from markdown</strong></p>
                            </div>
                        `;
                        
                        const notification = document.createElement('div');
                        notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg animate-fadeIn z-50';
                        notification.textContent = '✅ Play & Win choices copied!';
                        document.body.appendChild(notification);
                        
                        setTimeout(() => {
                            notification.style.transition = 'opacity 0.5s';
                            notification.style.opacity = '0';
                            setTimeout(() => notification.remove(), 500);
                        }, 3000);
                        
                        setTimeout(() => {
                            statusDiv.innerHTML = '';
                        }, 3000);
                    } else {
                        const statusDiv = document.getElementById('copyStatus');
                        statusDiv.innerHTML = `
                            <div class="mt-2 bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded-lg">
                                <p class="font-medium">❌ Copy Failed</p>
                                <p class="text-sm">Please select and copy the text manually.</p>
                            </div>
                        `;
                        
                        setTimeout(() => {
                            statusDiv.innerHTML = '';
                        }, 3000);
                    }
                });
            };

            return (
                <div className="max-w-6xl mx-auto p-4 md:p-8">
                    {/* Header */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        <div className="flex justify-between items-center w-full mb-2">
                            <a href="index.html" className="text-orange-600 hover:text-orange-700 font-medium text-sm">← Back to Workshop</a>
                            <a href="../index.html" className="text-orange-600 hover:text-orange-700 font-medium text-sm">All GTM Workshops ↑</a>
                        </div>
                        <div className="border-t border-gray-200 mt-3 pt-4">
                            <h1 onDoubleClick={toggleDevMode} className={`text-2xl font-bold text-gray-800 cursor-pointer select-none ${devMode ? 'text-orange-600' : ''}`} title="Double-click to toggle dev mode">
                                Activity 2: Play & Win Choices {devMode && '🔧'}
                            </h1>
                            <p className="text-gray-600 text-sm mt-1">Make two clear, powerful choices. These sentences will become the core of your strategy.</p>
                            {devMode && (
                                <div className="mt-3 pt-3 border-t border-orange-200">
                                    <div className="flex items-center justify-between">
                                        <span className="text-xs text-orange-600 font-medium">🔧 Dev Mode Active</span>
                                        <button onClick={devFillData} disabled={devFillLoading} className="bg-orange-500 text-white px-3 py-1 rounded text-xs hover:bg-orange-600 transition-colors disabled:opacity-50">
                                            {devFillLoading ? '⏳ Loading...' : '📝 Fill Test Data'}
                                        </button>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>

                    {/* Progress Bar */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6">
                        <div className="flex items-center justify-between mb-2">
                            <span className="text-sm font-medium text-gray-700">Progress</span>
                            <span className="text-sm text-gray-600">
                                {activityComplete ? 'Complete' : `${filledFieldsCount}/17 fields completed`}
                            </span>
                        </div>
                        <div className="w-full bg-gray-200 rounded-full h-2">
                            <div 
                                className="bg-orange-500 h-2 rounded-full transition-all duration-300" 
                                style={{width: `${progressPercentage}%`}}
                            ></div>
                        </div>
                    </div>

                    {/* Step 1: Define Where to Play */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        <div className="flex items-start gap-4 mb-4">
                            <div className="step-icon">01</div>
                            <div>
                                <h2 className="text-xl font-semibold text-gray-800">Define Where to Play</h2>
                                <p className="text-gray-600 text-sm mt-1">Break your market choice into three parts.</p>
                            </div>
                        </div>
                        
                        {/* Review & Reflect Callout Box */}
                        <div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                            <div className="flex items-start gap-3">
                                <div className="flex-shrink-0 text-blue-600 text-lg">📌</div>
                                <div>
                                    <h4 className="font-semibold text-blue-800 mb-2">First, Review Your Customer Profile</h4>
                                    <p className="text-blue-700 text-sm leading-relaxed">
                                        Your 'Where to Play' choice is the most specific articulation of your ECP (Early Customer Profile). Review your ECP definition. The best choices are narrow and focused. You are defining the beachhead market you can dominate <strong>now</strong>.
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4 fields-grid">
                            <InputField
                                label="Target Segment"
                                tooltip="The specific industry or market you're focusing on. Be narrow! 'All small businesses' is too broad; 'Series A-C SaaS companies with dedicated DevOps teams' is better."
                                placeholder="e.g., High-growth B2B SaaS companies"
                                value={targetSegment}
                                setter={setTargetSegment}
                            />
                            <InputField
                                label="Specific Buyer"
                                tooltip="The ideal persona who feels the pain most acutely and has the power to purchase or champion your product. Get specific on their title and context."
                                placeholder="e.g., Heads of DevOps and Engineering Directors"
                                value={specificBuyer}
                                setter={setSpecificBuyer}
                            />
                            <InputField
                                label="Urgent Problem"
                                tooltip="The high-cost 'struggling moment' your buyer needs to solve now. Quantify it if possible (e.g., '$100k per hour of downtime')."
                                placeholder="e.g., Who experience weekly API failures costing $50K+ per incident"
                                value={urgentProblem}
                                setter={setUrgentProblem}
                            />
                        </div>
                        
                        {/* Where We Will NOT Play - Full Width Field */}
                        <div className="mt-6">
                            <InputField
                                label="Where We Will Not Play (Explicit Trade-off)"
                                tooltip="A true strategy requires saying 'no.' What customer segments, product categories, or geographies will you deliberately ignore for the next 12-18 months to ensure you can win your chosen beachhead?"
                                placeholder="e.g., We will not serve the Fortune 500 or companies without a dedicated DevOps team."
                                value={whereNotToPlay}
                                setter={setWhereNotToPlay}
                            />
                        </div>
                    </div>

                    {/* Step 2: Define How to Win */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        <div className="flex items-start gap-4 mb-4">
                            <div className="step-icon">02</div>
                            <div>
                                <h2 className="text-xl font-semibold text-gray-800">Define How to Win</h2>
                                <p className="text-gray-600 text-sm mt-1">Connect your product's capabilities to the specific outcomes customers value.</p>
                            </div>
                        </div>
                        
                        {/* Review & Reflect Callout Box */}
                        <div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                            <div className="flex items-start gap-3">
                                <div className="flex-shrink-0 text-blue-600 text-lg">💡</div>
                                <div>
                                    <h4 className="font-semibold text-blue-800 mb-2">Connect Your Value Proposition</h4>
                                    <p className="text-blue-700 text-sm leading-relaxed">
                                        Your 'How to Win' choice is your unique value proposition in action. Review your positioning canvas. This is not a list of features, but a system of reinforcing advantages that delivers unique value to your 'Where to Play' target.
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 fields-grid">
                            {/* Column 1 */}
                            <div className="space-y-4">
                                <InputField
                                    label="Core Customer Value #1"
                                    tooltip="What is the primary outcome or benefit the customer gets? Focus on the 'what,' not the 'how.'"
                                    placeholder="e.g., Preemptive Problem Resolution"
                                    value={value1}
                                    setter={setValue1}
                                />
                                <InputField
                                    label="Supporting Capability #1"
                                    tooltip="What specific feature or capability of your product delivers this value? This is the 'how.'"
                                    placeholder="e.g., Proprietary Machine Learning Models"
                                    value={capability1}
                                    setter={setCapability1}
                                />
                            </div>
                            
                            {/* Column 2 */}
                            <div className="space-y-4">
                                <InputField
                                    label="Core Customer Value #2"
                                    tooltip="What is the second key outcome for the customer?"
                                    placeholder="e.g., Automated Resolution & Cost Savings"
                                    value={value2}
                                    setter={setValue2}
                                />
                                <InputField
                                    label="Supporting Capability #2"
                                    tooltip="What feature or capability delivers this second value point?"
                                    placeholder="e.g., Enhanced Automated Problem Resolution Engine"
                                    value={capability2}
                                    setter={setCapability2}
                                />
                            </div>
                            
                            {/* Column 3 */}
                            <div className="space-y-4">
                                <InputField
                                    label="Core Customer Value #3"
                                    tooltip="What is the third key outcome for the customer?"
                                    placeholder="e.g., Comprehensive Visibility"
                                    value={value3}
                                    setter={setValue3}
                                />
                                <InputField
                                    label="Supporting Capability #3"
                                    tooltip="What feature or capability delivers this third value point?"
                                    placeholder="e.g., Seamless Cross-Platform Integration"
                                    value={capability3}
                                    setter={setCapability3}
                                />
                            </div>
                        </div>
                    </div>

                    {/* Step 3: Identify the Riskiest Assumption */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        <div className="flex items-start gap-4 mb-4">
                            <div className="step-icon">03</div>
                            <div className="flex-1">
                                <h2 className="text-xl font-semibold text-gray-800">Identify the Riskiest Assumption</h2>
                                <p className="text-gray-600 text-sm mt-1">Turn your strategy into a set of testable beliefs.</p>
                            </div>
                        </div>
                        
                        <p className="text-gray-700 mb-6">
                            A strategy is a set of beliefs about the future. To find your riskiest assumption, you first need to state the core beliefs that <strong>must be true</strong> for your strategy to succeed.
                        </p>
                        
                        {/* Part A: Four SPACES Assumption Fields */}
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <InputField
                                label="Belief about your SPACE"
                                tooltip="What must be true about the industry structure and segments you've chosen to play in?"
                                placeholder="e.g., That 'PredictiveOps' is a distinct, high-value category, not just a feature."
                                value={spacesAssumption}
                                setter={setSpacesAssumption}
                            />
                            <InputField
                                label="Belief about the VALUE you create"
                                tooltip="What must be true about what your customers and channels truly value and are willing to pay for?"
                                placeholder="e.g., VPs of Eng will pay a premium for a predictive solution over their 'good enough' reactive tool."
                                value={valueAssumption}
                                setter={setValueAssumption}
                            />
                            <InputField
                                label="Belief about your CAPABILITIES"
                                tooltip="What must be true about your unique ability to execute and your relative costs vs. competitors?"
                                placeholder="e.g., We can maintain our ML model's predictive lead against larger competitors."
                                value={capabilitiesAssumption}
                                setter={setCapabilitiesAssumption}
                            />
                            <InputField
                                label="Belief about competitor REACTION"
                                tooltip="What must be true about how your competitors will (or will not) react to your strategy?"
                                placeholder="e.g., Incumbents like Datadog will be too slow to replicate our architecture."
                                value={reactionAssumption}
                                setter={setReactionAssumption}
                            />
                        </div>
                        
                        {/* Radio Button Selection */}
                        <div className="mt-8">
                            <h3 className="text-lg font-semibold text-gray-800 mb-2">Select Your Single Riskiest Assumption</h3>
                            <p className="text-gray-600 text-sm mb-4">
                                Review your four core beliefs. Which one worries you the most? If this one belief is wrong, the entire strategy fails.
                            </p>
                            
                            <div className="space-y-3">
                                <label className="flex items-start gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                                    <input
                                        type="radio"
                                        name="riskiestAssumption"
                                        value="spaces"
                                        checked={selectedRiskiestKey === 'spaces'}
                                        onChange={(e) => setSelectedRiskiestKey(e.target.value)}
                                        disabled={!spacesAssumption.trim()}
                                        className="mt-1 text-orange-500"
                                    />
                                    <div className="flex-1">
                                        <div className="font-medium text-gray-700">SPACE Assumption</div>
                                        <div className="text-sm text-gray-600 mt-1">
                                            {spacesAssumption.trim() || 'Complete the SPACE belief field to select this option'}
                                        </div>
                                    </div>
                                </label>
                                
                                <label className="flex items-start gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                                    <input
                                        type="radio"
                                        name="riskiestAssumption"
                                        value="value"
                                        checked={selectedRiskiestKey === 'value'}
                                        onChange={(e) => setSelectedRiskiestKey(e.target.value)}
                                        disabled={!valueAssumption.trim()}
                                        className="mt-1 text-orange-500"
                                    />
                                    <div className="flex-1">
                                        <div className="font-medium text-gray-700">VALUE Assumption</div>
                                        <div className="text-sm text-gray-600 mt-1">
                                            {valueAssumption.trim() || 'Complete the VALUE belief field to select this option'}
                                        </div>
                                    </div>
                                </label>
                                
                                <label className="flex items-start gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                                    <input
                                        type="radio"
                                        name="riskiestAssumption"
                                        value="capabilities"
                                        checked={selectedRiskiestKey === 'capabilities'}
                                        onChange={(e) => setSelectedRiskiestKey(e.target.value)}
                                        disabled={!capabilitiesAssumption.trim()}
                                        className="mt-1 text-orange-500"
                                    />
                                    <div className="flex-1">
                                        <div className="font-medium text-gray-700">CAPABILITIES Assumption</div>
                                        <div className="text-sm text-gray-600 mt-1">
                                            {capabilitiesAssumption.trim() || 'Complete the CAPABILITIES belief field to select this option'}
                                        </div>
                                    </div>
                                </label>
                                
                                <label className="flex items-start gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                                    <input
                                        type="radio"
                                        name="riskiestAssumption"
                                        value="reaction"
                                        checked={selectedRiskiestKey === 'reaction'}
                                        onChange={(e) => setSelectedRiskiestKey(e.target.value)}
                                        disabled={!reactionAssumption.trim()}
                                        className="mt-1 text-orange-500"
                                    />
                                    <div className="flex-1">
                                        <div className="font-medium text-gray-700">REACTION Assumption</div>
                                        <div className="text-sm text-gray-600 mt-1">
                                            {reactionAssumption.trim() || 'Complete the REACTION belief field to select this option'}
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                        
                        {/* Part B: Test Design (Conditional) */}
                        {selectedRiskiestKey && (
                            <div className="border-t mt-6 pt-6">
                                <div className="flex items-center gap-2 mb-4">
                                    <span className="text-2xl">🔬</span>
                                    <h3 className="text-lg font-semibold text-gray-800">Design Your Test</h3>
                                </div>
                                <p className="text-gray-600 text-sm mb-6">
                                    Now, let's turn your riskiest assumption into a testable hypothesis. A great strategy is built on evidence, not just hope.
                                </p>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    {/* The Risk (Read-only) */}
                                    <div className="md:col-span-2">
                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                            The Risk (Your Selected Assumption)
                                        </label>
                                        <textarea
                                            readOnly
                                            value={
                                                selectedRiskiestKey === 'spaces' ? spacesAssumption :
                                                selectedRiskiestKey === 'value' ? valueAssumption :
                                                selectedRiskiestKey === 'capabilities' ? capabilitiesAssumption :
                                                selectedRiskiestKey === 'reaction' ? reactionAssumption : ''
                                            }
                                            className="w-full p-3 border border-gray-300 rounded-lg text-sm bg-gray-50 resize-none h-20"
                                        />
                                    </div>
                                    
                                    <InputField
                                        label="Test Objective"
                                        tooltip="What, specifically, do you need to confirm to de-risk this assumption?"
                                        placeholder="e.g., Confirm that customers perceive enough value to justify a >$50k/year price."
                                        value={testObjective}
                                        setter={setTestObjective}
                                    />
                                    
                                    <InputField
                                        label="The Test"
                                        tooltip="What specific, low-cost test will give you confidence (e.g., interviews, landing page, pricing survey)?"
                                        placeholder="e.g., Conduct 25 value-prop interviews with VPs of Engineering using an ROI model."
                                        value={theTest}
                                        setter={setTheTest}
                                    />
                                    
                                    <div className="md:col-span-2">
                                        <InputField
                                            label="The Metric (Measure of Proof)"
                                            tooltip="What is your quantitative success metric? This makes the result undeniable."
                                            placeholder="e.g., At least 60% of interviewees state a willingness-to-pay within our target range."
                                            value={theMetric}
                                            setter={setTheMetric}
                                        />
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>

                    {/* Auto-Summary Footer */}
                    <div className="bg-gray-50 rounded-lg border border-gray-200 p-6 mb-6">
                        <h3 className="text-lg font-semibold text-gray-800 mb-4">Preview: Your Strategic Choice</h3>
                        <div className="space-y-3">
                            <p className="text-gray-700">
                                <strong>Where we play:</strong> We play in <span className="text-orange-600">{targetSegment || '[Target Segment]'}</span>, for <span className="text-orange-600">{specificBuyer || '[Specific Buyer]'}</span>, who have <span className="text-orange-600">{urgentProblem || '[Urgent Problem]'}</span>.
                            </p>
                            <p className="text-gray-700">
                                <strong>Where we won't play:</strong> To win, we will explicitly not serve <span className="text-orange-600">{whereNotToPlay || '[your defined trade-off]'}</span>.
                            </p>
                            <p className="text-gray-700">
                                <strong>How we win:</strong> We win by delivering <span className="text-orange-600">{value1 || '[Value #1]'}</span> through <span className="text-orange-600">{capability1 || '[Capability #1]'}</span>, <span className="text-orange-600">{value2 || '[Value #2]'}</span> through <span className="text-orange-600">{capability2 || '[Capability #2]'}</span>, and <span className="text-orange-600">{value3 || '[Value #3]'}</span> through <span className="text-orange-600">{capability3 || '[Capability #3]'}</span>.
                            </p>
                        </div>
                        
                        <div className="mt-4 pt-4 border-t border-gray-200">
                            <p className="text-gray-700">
                                <strong>⚠️ Riskiest Assumption:</strong> <span className="text-orange-600">
                                    {selectedRiskiestKey ? 
                                        (selectedRiskiestKey === 'spaces' ? spacesAssumption :
                                         selectedRiskiestKey === 'value' ? valueAssumption :
                                         selectedRiskiestKey === 'capabilities' ? capabilitiesAssumption :
                                         selectedRiskiestKey === 'reaction' ? reactionAssumption : '') 
                                        : '[Select an assumption]'
                                    }
                                </span>
                            </p>
                            <p className="text-gray-700 mt-1">
                                <strong>✅ Test Metric:</strong> <span className="text-orange-600">{theMetric || '[Define a success metric]'}</span>
                            </p>
                        </div>
                        
                        <p className="text-sm text-gray-600 mt-4">Keep these sentences clear—they'll be copied directly into your Competitive Strategy Blueprint.</p>
                    </div>

                    {/* Export Section */}
                    {showExportSection && (
                        <div className="bg-gray-50 rounded-xl p-6 border border-gray-200 mb-6 animate-fadeIn">
                            <h3 className="text-lg font-semibold text-gray-800 mb-3">📄 Export Your Play & Win Choices</h3>
                            <p className="text-sm text-gray-600 mb-4">
                                Your strategic choices have been formatted as a professional markdown report for easy sharing and documentation.
                            </p>
                            
                            <div className="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4">
                                <h5 className="font-medium text-blue-800 mb-2">📌 Google Docs Instructions:</h5>
                                <ol className="text-sm text-blue-700 space-y-1">
                                    <li>1. Click "Copy Activity Summary" below</li>
                                    <li>2. Open Google Docs and create a new document</li>
                                    <li>3. Go to <strong>Edit → Paste special → Paste from markdown</strong></li>
                                    <li>4. Your report will appear with proper formatting!</li>
                                </ol>
                                <p className="text-xs text-blue-600 mt-2">
                                    💡 <strong>Tip:</strong> "Paste from markdown" preserves all formatting including headers and sections.
                                </p>
                            </div>

                            <textarea
                                id="markdownSummary"
                                readOnly
                                className="w-full h-64 text-sm p-3 font-mono border border-gray-200 rounded-lg bg-gray-50 resize-none mb-3"
                                value={generateMarkdownSummary()}
                            />
                            
                            <div className="flex flex-col items-center">
                                <button
                                    onClick={handleCopyToClipboard}
                                    className="bg-orange-500 text-white px-6 py-2.5 rounded-lg font-medium hover:bg-orange-600 transition-colors"
                                >
                                    📋 Copy Activity Summary
                                </button>
                                <div id="copyStatus"></div>
                            </div>
                        </div>
                    )}

                    {/* Action Buttons */}
                    <div className="flex justify-between items-center mt-8 gap-4">
                        <button
                            onClick={resetActivity}
                            className="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors font-medium flex-shrink-0"
                        >
                            Reset Activity
                        </button>
                        
                        <button
                            onClick={() => {
                                if (showExportSection) {
                                    window.location.href = 'index.html';
                                } else {
                                    setShowExportSection(true);
                                }
                            }}
                            className={`px-4 py-2 rounded-lg font-medium transition-colors flex-shrink-0 ${
                                showExportSection 
                                    ? 'bg-gray-500 text-white hover:bg-gray-600' 
                                    : activityComplete 
                                        ? 'bg-green-500 text-white hover:bg-green-600'
                                        : 'bg-gray-400 text-gray-200 cursor-not-allowed'
                            }`}
                            disabled={!activityComplete}
                        >
                            {showExportSection ? 'Return to Workshop' : 'Generate Report'}
                        </button>
                        
                        <button
                            onClick={() => {
                                if (!showExportSection && activityComplete) {
                                    setShowExportSection(true);
                                }
                                window.location.href = 'competitive-activity-3A.html';
                            }}
                            className={`px-4 py-2 rounded-lg font-semibold transition-colors flex-shrink-0 ${
                                activityComplete 
                                    ? 'bg-orange-500 text-white hover:bg-orange-600'
                                    : 'bg-gray-400 text-gray-200 cursor-not-allowed'
                            }`}
                            disabled={!activityComplete}
                        >
                            Continue to Activity 3
                        </button>
                    </div>
                </div>
            );
        };

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<PlayWinChoicesActivity />);
    </script>
</body>
</html>