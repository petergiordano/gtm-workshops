<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Pricing Strategy - Pricing & Monetization</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
        }
        .laptop-textarea {
            min-height: 80px;
            max-height: 120px;
            transition: max-height 0.3s ease;
            resize: none;
        }
        .laptop-textarea:focus {
            max-height: 200px;
        }
        .value-card {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }
        .value-card:hover {
            border-color: #FF9000;
            box-shadow: 0 4px 12px rgba(255, 144, 0, 0.15);
        }
        .value-card.selected {
            border-color: #FF9000;
            background: #FFF7ED;
            box-shadow: 0 4px 12px rgba(255, 144, 0, 0.2);
        }
        .hybrid-box {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            transition: all 0.3s ease;
        }
        .hybrid-box.selected {
            border-color: #FF9000;
            background: #FFF7ED;
            box-shadow: 0 4px 12px rgba(255, 144, 0, 0.15);
        }
        .metric-icon {
            font-size: 2.5rem;
            margin-bottom: 12px;
        }
        .animate-fadeIn {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- Consolidated Test Data for comprehensive pricing activity -->
    <script type="application/json" id="testData">
    {
      "selectedMetric": "B",
      "rationale": "Our customers process millions of API calls daily and their usage directly correlates with the business value they get from our predictive monitoring platform.",
      "problemSolved": "Eliminates the need for complex infrastructure scaling decisions and prevents costly downtime incidents before they occur.",
      "pricePerUnit": "0.001",
      "baseComponent": "subscription",
      "valueScaling": "usage",
      "customerJustification": "Monthly subscription covers our infrastructure and platform costs while usage-based scaling ensures customers only pay more when they're getting more value from monitoring additional API calls.",
      "customerExplanation": "Pay a monthly base fee for access to our monitoring platform, plus a small per-API-call fee that scales with your usage and the value you receive.",
      "potentialChallenge": "Usage spikes during peak traffic could cause unexpected bill increases - we'd address this with usage alerts, spending caps, and graduated pricing tiers to prevent bill shock.",
      "completedAt": null,
      "currentStep": 3
    }
    </script>

    <script type="text/babel">
        const { useState } = React;

        // Helper function for word count
        const getWordCount = (text) => {
            return text.trim().split(/\s+/).filter(word => word.length > 0).length;
        };

        const ComprehensivePricingActivity = () => {
            // Step 1: Value Metric Selection (from Activity 1A)
            const [selectedMetric, setSelectedMetric] = useState('');
            const [rationale, setRationale] = useState('');
            const [problemSolved, setProblemSolved] = useState('');
            const [pricePerUnit, setPricePerUnit] = useState('');

            // Step 2: Hybrid Model Design (from Activity 2A)
            const [baseComponent, setBaseComponent] = useState('');
            const [valueScaling, setValueScaling] = useState('');
            const [customerJustification, setCustomerJustification] = useState('');
            const [customerExplanation, setCustomerExplanation] = useState('');

            // Step 3: Model Validation (from Activity 2A)
            const [potentialChallenge, setPotentialChallenge] = useState('');

            // Activity state
            const [currentStep, setCurrentStep] = useState(1);
            const [completedAt, setCompletedAt] = useState(null);

            // Guidance section state
            const [showGuidance, setShowGuidance] = useState(false);

            // Dev mode
            const [devMode, setDevMode] = useState(false);
            const [devFillLoading, setDevFillLoading] = useState(false);

            const toggleDevMode = () => {
                setDevMode(!devMode);
                console.log(devMode ? '🔒 Dev mode disabled' : '🔓 Dev mode enabled');
            };

            const devFillData = () => {
                setDevFillLoading(true);
                try {
                    const testDataScript = document.getElementById('testData');
                    const testData = JSON.parse(testDataScript.textContent);

                    // Load all data from consolidated test data
                    setSelectedMetric(testData.selectedMetric);
                    setRationale(testData.rationale);
                    setProblemSolved(testData.problemSolved);
                    setPricePerUnit(testData.pricePerUnit);
                    setBaseComponent(testData.baseComponent);
                    setValueScaling(testData.valueScaling);
                    setCustomerJustification(testData.customerJustification);
                    setCustomerExplanation(testData.customerExplanation);
                    setPotentialChallenge(testData.potentialChallenge);
                    setCurrentStep(testData.currentStep || 3);

                    console.log('✅ Dev data loaded successfully');
                } catch (error) {
                    console.error('❌ Failed to load dev data:', error);
                } finally {
                    setDevFillLoading(false);
                }
            };

            // Value metric options
            const valueMetrics = [
                {
                    id: 'A',
                    name: 'People/User Enablement',
                    icon: '👥',
                    example: 'E.g. Notion AI per-member add-on',
                    description: 'Value from enabling individuals/teams'
                },
                {
                    id: 'B',
                    name: 'Volume/Throughput',
                    icon: '📈',
                    example: 'E.g. OpenAI API per token',
                    description: 'Value from activity volume/data processed'
                },
                {
                    id: 'C',
                    name: 'Outcome/Business Result',
                    icon: '🎯',
                    example: 'E.g. 11x.ai per meeting booked',
                    description: 'Value from measurable business results'
                }
            ];

            // Base component options
            const baseComponentOptions = [
                {
                    id: 'platform_fee',
                    name: 'Platform Fee',
                    description: 'Entry access charge',
                    example: 'E.g. Anthropic Claude API - base fee + usage scaling',
                    useCase: 'When customers need guaranteed access/infrastructure'
                },
                {
                    id: 'subscription',
                    name: 'Subscription',
                    description: 'Recurring capabilities',
                    example: 'E.g. Notion AI - $10/user/month add-on',
                    useCase: 'When customers want predictable monthly costs'
                }
            ];

            // Value scaling options
            const valueScalingOptions = [
                {
                    id: 'seats',
                    name: 'Per Seat/User Scaling',
                    example: 'E.g. Notion AI adds $10 per team member',
                    poshExample: 'E.g. Posh base monitoring + per engineering team member'
                },
                {
                    id: 'usage',
                    name: 'Per Usage/Activity Scaling',
                    example: 'E.g. Anthropic Claude - per token processed',
                    poshExample: 'E.g. Posh base subscription + per API call monitored'
                },
                {
                    id: 'outcomes',
                    name: 'Per Outcome/Result Scaling',
                    example: 'E.g. Clay - tiered pricing that scales with data enrichment',
                    poshExample: 'E.g. Posh base monitoring + per incident prevented'
                }
            ];

            // Smart default for value scaling based on primary metric
            const getDefaultValueScaling = (metricId) => {
                switch (metricId) {
                    case 'A': return 'seats';
                    case 'B': return 'usage';
                    case 'C': return 'outcomes';
                    default: return '';
                }
            };

            // Update value scaling when primary metric changes
            const handleMetricChange = (metricId) => {
                setSelectedMetric(metricId);
                if (!valueScaling) {
                    setValueScaling(getDefaultValueScaling(metricId));
                }
            };

            // Validation functions
            const isStep1Complete = () => {
                return selectedMetric !== '' && 
                       getWordCount(rationale) >= 5 && 
                       getWordCount(problemSolved) >= 5;
            };

            const isStep2Complete = () => {
                return baseComponent !== '' && 
                       valueScaling !== '' && 
                       getWordCount(customerJustification) >= 5 && 
                       getWordCount(customerExplanation) >= 5;
            };

            const isStep3Complete = () => {
                return getWordCount(potentialChallenge) >= 5;
            };

            const nextStep = () => {
                if ((currentStep === 1 && isStep1Complete()) ||
                    (currentStep === 2 && isStep2Complete()) ||
                    (currentStep === 3 && isStep3Complete())) {
                    setCurrentStep(prev => Math.min(prev + 1, 3));
                }
            };

            const prevStep = () => {
                setCurrentStep(prev => Math.max(prev - 1, 1));
            };

            const handleComplete = () => {
                if (isStep3Complete() && !completedAt) {
                    setCompletedAt(new Date().toISOString());
                }
            };

            // Generate comprehensive markdown summary
            const generateMarkdownSummary = () => {
                const selectedOption = valueMetrics.find(m => m.id === selectedMetric);
                const selectedBase = baseComponentOptions.find(b => b.id === baseComponent);
                const selectedScaling = valueScalingOptions.find(s => s.id === valueScaling);

                return `# Pricing & Monetization: Comprehensive Pricing Strategy

### 🎯 Primary Value Metric Selection
**Selected**: ${selectedMetric ? `${selectedMetric} - ${selectedOption?.name}` : '[Not selected]'}
${selectedOption ? `**${selectedOption.description}**` : ''}

**Rationale**: ${rationale || '[Not provided]'}

**Customer Problem Solved**: ${problemSolved || '[Not provided]'}

### 🏗️ Hybrid Pricing Model Design
**Base Component**: ${selectedBase ? selectedBase.name : '[Not selected]'}
${selectedBase ? `*${selectedBase.useCase}*` : ''}

**Value Scaling**: ${selectedScaling ? selectedScaling.name : '[Not selected]'}
${selectedScaling ? `*${selectedScaling.example}*` : ''}

**Customer Benefit Justification**: ${customerJustification || '[Not provided]'}

**Simple Customer Explanation**: ${customerExplanation || '[Not provided]'}

### ⚠️ Implementation Considerations
**Potential Challenge & Solution**: ${potentialChallenge || '[Not provided]'}

### 💰 Pricing Consideration
${pricePerUnit ? `Initial price point: $${pricePerUnit} per unit` : '[Not specified]'}

### 📊 Complete Hybrid Model Structure
\`\`\`
${selectedBase ? selectedBase.name : '[Base Component]'} + ${selectedScaling ? selectedScaling.name : '[Value Scaling]'} = Complete Pricing Model
\`\`\`

---
*Activity completed: ${completedAt ? new Date(completedAt).toLocaleString() : 'In Progress'}*
*Workshop: Comprehensive Pricing Strategy (Consolidated Activities 1+2)*
*Next Step: Define specific price points in Activity 3*`;
            };

            const handleCopyToClipboard = () => {
                const copyToClipboard = async (text) => {
                    try {
                        if (navigator.clipboard && navigator.clipboard.writeText) {
                            await navigator.clipboard.writeText(text);
                            return true;
                        } else {
                            // Fallback for older browsers
                            const textArea = document.createElement('textarea');
                            textArea.value = text;
                            textArea.style.position = 'fixed';
                            textArea.style.left = '-999999px';
                            document.body.appendChild(textArea);
                            textArea.select();
                            const successful = document.execCommand('copy');
                            document.body.removeChild(textArea);
                            return successful;
                        }
                    } catch (err) {
                        console.error('Failed to copy:', err);
                        return false;
                    }
                };

                const el = document.getElementById('markdownSummary');
                const statusDiv = document.getElementById('copyStatus');
                
                copyToClipboard(el.value).then((success) => {
                    if (success) {
                        // Show success status
                        statusDiv.innerHTML = `
                            <div class="mt-2 bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded-lg">
                                <p class="font-medium">✅ Copied to Clipboard!</p>
                                <p class="text-sm mt-1">Now paste in Google Docs: <strong>Edit → Paste special → Paste from markdown</strong></p>
                            </div>
                        `;
                        
                        // Floating notification
                        const notification = document.createElement('div');
                        notification.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #22c55e; color: white; padding: 16px 24px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 9999; font-weight: 500;';
                        notification.textContent = '✅ Complete pricing strategy copied!';
                        document.body.appendChild(notification);
                        
                        setTimeout(() => {
                            notification.style.transition = 'opacity 0.5s';
                            notification.style.opacity = '0';
                            setTimeout(() => notification.remove(), 500);
                        }, 2500);
                        
                        setTimeout(() => {
                            statusDiv.innerHTML = '';
                        }, 3000);
                    }
                });
            };

            // Render Step 1: Value Metric Selection
            const renderStep1 = () => (
                <div className="space-y-6">
                    <div className="text-center mb-6">
                        <h3 className="text-xl font-bold text-gray-800 mb-2">
                            Find Your Primary Value Metric
                        </h3>
                        <p className="text-gray-600">
                            When customers achieve significant ROI with your product, what has primarily increased or improved?
                        </p>
                    </div>

                    {/* Workshop Slide Guidance */}
                    <div className="mb-6">
                        <div 
                            className="bg-orange-50 border border-orange-200 rounded-lg p-4 cursor-pointer transition-all duration-300 hover:border-orange-300"
                            onClick={() => setShowGuidance(!showGuidance)}
                        >
                            <div className="flex items-center justify-between">
                                <div className="flex items-center">
                                    <span className="text-lg mr-2">💡</span>
                                    <h3 className="text-sm font-semibold text-orange-800">Quick Decision Framework</h3>
                                </div>
                                <div className={`transform transition-transform duration-300 ${showGuidance ? 'rotate-180' : ''}`}>
                                    <svg className="w-4 h-4 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                    </svg>
                                </div>
                            </div>
                            <p className="text-xs text-orange-700 mt-1">
                                Click to see three key questions to guide your decision
                            </p>
                        </div>
                        
                        {showGuidance && (
                            <div className="mt-4 space-y-3 animate-fadeIn">
                                <div className="grid md:grid-cols-3 gap-4">
                                    <div className="bg-white border border-orange-200 rounded-lg p-4">
                                        <div className="text-center">
                                            <div className="text-2xl mb-2">🧩</div>
                                            <h4 className="font-semibold text-gray-800 text-sm mb-2">Problem Focus</h4>
                                            <p className="text-xs text-gray-600">What specific problem does your AI solve?</p>
                                        </div>
                                    </div>
                                    <div className="bg-white border border-orange-200 rounded-lg p-4">
                                        <div className="text-center">
                                            <div className="text-2xl mb-2">📊</div>
                                            <h4 className="font-semibold text-gray-800 text-sm mb-2">Success Measurement</h4>
                                            <p className="text-xs text-gray-600">How do customers measure success with your product?</p>
                                        </div>
                                    </div>
                                    <div className="bg-white border border-orange-200 rounded-lg p-4">
                                        <div className="text-center">
                                            <div className="text-2xl mb-2">📈</div>
                                            <h4 className="font-semibold text-gray-800 text-sm mb-2">Value Scaling</h4>
                                            <p className="text-xs text-gray-600">What unit naturally scales with that value?</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>

                    {/* Value Metric Cards */}
                    <div className="grid md:grid-cols-3 gap-4 mb-6">
                        {valueMetrics.map((metric) => (
                            <div
                                key={metric.id}
                                className={`value-card ${selectedMetric === metric.id ? 'selected' : ''}`}
                                onClick={() => handleMetricChange(metric.id)}
                            >
                                <div className="text-center">
                                    <div className="metric-icon">{metric.icon}</div>
                                    <h3 className="font-semibold text-gray-800 mb-2">{metric.name}</h3>
                                    <p className="text-sm text-gray-600 mb-3">{metric.description}</p>
                                    <p className="text-xs text-orange-600 font-medium">{metric.example}</p>
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Input Fields */}
                    {selectedMetric && (
                        <div className="space-y-6 pt-6 border-t border-gray-200 animate-fadeIn">
                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">
                                    Why did you choose this option? *
                                </label>
                                <textarea
                                    className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"
                                    value={rationale}
                                    onChange={(e) => setRationale(e.target.value)}
                                    placeholder="Explain why this value metric best represents how your customers benefit..."
                                />
                                <div className="flex justify-between mt-1">
                                    <span className={`text-sm ${getWordCount(rationale) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                        {getWordCount(rationale)} words
                                    </span>
                                    <span className="text-xs text-gray-400">Minimum 5 words required</span>
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">
                                    What specific problem does this solve for customers? *
                                </label>
                                <textarea
                                    className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"
                                    value={problemSolved}
                                    onChange={(e) => setProblemSolved(e.target.value)}
                                    placeholder="Describe the customer problem that drives this value creation..."
                                />
                                <div className="flex justify-between mt-1">
                                    <span className={`text-sm ${getWordCount(problemSolved) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                        {getWordCount(problemSolved)} words
                                    </span>
                                    <span className="text-xs text-gray-400">Minimum 5 words required</span>
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">
                                    What would you charge per unit? (Optional)
                                </label>
                                <div className="flex items-center">
                                    <span className="text-gray-500 mr-2">$</span>
                                    <input
                                        type="number"
                                        step="0.001"
                                        className="w-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"
                                        value={pricePerUnit}
                                        onChange={(e) => setPricePerUnit(e.target.value)}
                                        placeholder="0.01"
                                    />
                                    <span className="text-gray-500 ml-2">per unit</span>
                                </div>
                                <p className="text-xs text-gray-500 mt-1">Initial pricing thoughts - will be refined in Step 2</p>
                            </div>
                        </div>
                    )}

                    {/* Navigation */}
                    <div className="flex justify-end">
                        <button
                            onClick={nextStep}
                            disabled={!isStep1Complete()}
                            className={`px-6 py-3 rounded-lg text-white font-medium text-lg transition-colors ${
                                isStep1Complete() 
                                    ? 'bg-orange-500 hover:bg-orange-600' 
                                    : 'bg-gray-300 cursor-not-allowed'
                            }`}
                        >
                            Design Your Model →
                        </button>
                    </div>
                </div>
            );

            // Render Step 2: Design Hybrid Model
            const renderStep2 = () => (
                <div className="space-y-6">
                    <div className="text-center mb-6">
                        <h3 className="text-xl font-bold text-gray-800 mb-2">
                            Design Your Hybrid Pricing Model
                        </h3>
                        <p className="text-gray-600">
                            Choose your base component and value scaling approach
                        </p>
                    </div>

                    {/* Hybrid Model Framework */}
                    <div className="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6">
                        <h4 className="text-lg font-semibold text-blue-800 mb-4 text-center">Hybrid Pricing Framework</h4>
                        <div className="flex items-center justify-center space-x-4">
                            <div className="hybrid-box bg-orange-100 border-orange-200">
                                <div className="text-2xl mb-2">🏢</div>
                                <h5 className="font-semibold text-gray-800">Base Component</h5>
                                <p className="text-xs text-gray-600 mt-1">Platform access or subscription</p>
                            </div>
                            <div className="text-2xl font-bold text-blue-600">+</div>
                            <div className="hybrid-box bg-green-100 border-green-200">
                                <div className="text-2xl mb-2">📈</div>
                                <h5 className="font-semibold text-gray-800">Value Scaling</h5>
                                <p className="text-xs text-gray-600 mt-1">Your value metric from Step 1</p>
                            </div>
                            <div className="text-2xl font-bold text-blue-600">=</div>
                            <div className="hybrid-box bg-blue-100 border-blue-200">
                                <div className="text-2xl mb-2">🎯</div>
                                <h5 className="font-semibold text-gray-800">Complete Model</h5>
                                <p className="text-xs text-gray-600 mt-1">Predictable + scalable pricing</p>
                            </div>
                        </div>
                    </div>

                    {/* Base Component Selection */}
                    <div className="space-y-4">
                        <h4 className="font-semibold text-gray-800">1. Choose Your Base Component:</h4>
                        <div className="grid md:grid-cols-2 gap-4">
                            {baseComponentOptions.map((option) => (
                                <div key={option.id} className={`hybrid-box cursor-pointer ${baseComponent === option.id ? 'selected' : ''}`}
                                     onClick={() => setBaseComponent(option.id)}>
                                    <div className="text-2xl mb-2">
                                        {option.id === 'platform_fee' ? '🏗️' : '📅'}
                                    </div>
                                    <h5 className="font-semibold text-gray-800 mb-2">{option.name}</h5>
                                    <p className="text-sm text-gray-600 mb-3">{option.description}</p>
                                    <p className="text-xs text-orange-600 font-medium">{option.example}</p>
                                    <p className="text-xs text-gray-500 mt-2">{option.useCase}</p>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Value Scaling Selection */}
                    <div className="space-y-4">
                        <h4 className="font-semibold text-gray-800">2. Choose Your Value Scaling:</h4>
                        {selectedMetric && (
                            <div className="bg-green-50 border border-green-200 rounded-lg p-4 mb-4">
                                <p className="text-green-800 text-sm">
                                    <strong>Smart suggestion:</strong> Based on your "{valueMetrics.find(m => m.id === selectedMetric)?.name}" selection, 
                                    we recommend "{valueScalingOptions.find(s => s.id === getDefaultValueScaling(selectedMetric))?.name}"
                                </p>
                            </div>
                        )}
                        <div className="space-y-3">
                            {valueScalingOptions.map((option) => (
                                <div key={option.id} className="border border-gray-200 rounded-lg p-4">
                                    <div className="flex items-start space-x-3">
                                        <input
                                            type="radio"
                                            id={`scaling-${option.id}`}
                                            name="valueScaling"
                                            value={option.id}
                                            checked={valueScaling === option.id}
                                            onChange={(e) => setValueScaling(e.target.value)}
                                            className="w-4 h-4 text-orange-600 focus:ring-orange-500 mt-1"
                                        />
                                        <div className="flex-1">
                                            <label htmlFor={`scaling-${option.id}`} className="cursor-pointer">
                                                <div className="font-medium text-gray-800">{option.name}</div>
                                                <div className="text-sm text-blue-600 mt-1">{option.example}</div>
                                                <div className="text-xs text-orange-600 mt-1">{option.poshExample}</div>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Customer Justification */}
                    {baseComponent && valueScaling && (
                        <div className="space-y-4 pt-4 border-t border-gray-200 animate-fadeIn">
                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">
                                    Why does this combination work for your customers? *
                                </label>
                                <textarea
                                    className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"
                                    value={customerJustification}
                                    onChange={(e) => setCustomerJustification(e.target.value)}
                                    placeholder="E.g., Monthly subscription covers our infrastructure costs while usage scaling ensures they only pay more when getting more value..."
                                />
                                <div className="flex justify-between mt-1">
                                    <span className={`text-sm ${getWordCount(customerJustification) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                        {getWordCount(customerJustification)} words
                                    </span>
                                    <span className="text-xs text-gray-400">Minimum 5 words required</span>
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">
                                    How would you explain this pricing to a customer in simple terms? *
                                </label>
                                <textarea
                                    className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"
                                    value={customerExplanation}
                                    onChange={(e) => setCustomerExplanation(e.target.value)}
                                    placeholder="E.g., Pay a monthly base fee for platform access, plus a small fee per API call that scales with your usage..."
                                />
                                <div className="flex justify-between mt-1">
                                    <span className={`text-sm ${getWordCount(customerExplanation) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                        {getWordCount(customerExplanation)} words
                                    </span>
                                    <span className="text-xs text-gray-400">Minimum 5 words required</span>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Navigation */}
                    <div className="flex justify-between">
                        <button
                            onClick={prevStep}
                            className="px-4 py-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors"
                        >
                            ← Back
                        </button>
                        <button
                            onClick={nextStep}
                            disabled={!isStep2Complete()}
                            className={`px-6 py-3 rounded-lg text-white font-medium text-lg transition-colors ${
                                isStep2Complete() 
                                    ? 'bg-orange-500 hover:bg-orange-600' 
                                    : 'bg-gray-300 cursor-not-allowed'
                            }`}
                        >
                            Validate Model →
                        </button>
                    </div>
                </div>
            );

            // Render Step 3: Validation & Summary
            const renderStep3 = () => (
                <div className="space-y-6">
                    <div className="text-center mb-6">
                        <h3 className="text-xl font-bold text-gray-800 mb-2">
                            Your Complete Pricing Strategy
                        </h3>
                        <p className="text-gray-600">
                            Review your comprehensive pricing strategy and identify potential challenges
                        </p>
                    </div>

                    {/* Model Summary */}
                    <div className="bg-green-50 border-2 border-green-300 rounded-lg p-6">
                        <h4 className="text-lg font-semibold text-green-800 mb-4">✅ Your Complete Pricing Strategy</h4>
                        <div className="space-y-4">
                            <div className="bg-white border border-green-200 rounded-lg p-4">
                                <h5 className="font-medium text-green-800 mb-2">🎯 Primary Value Metric</h5>
                                <p className="text-gray-800">
                                    {valueMetrics.find(m => m.id === selectedMetric)?.name} - {valueMetrics.find(m => m.id === selectedMetric)?.description}
                                </p>
                                <p className="text-sm text-gray-600 mt-2 italic">"{rationale}"</p>
                            </div>
                            <div className="grid md:grid-cols-2 gap-4">
                                <div className="bg-white border border-green-200 rounded-lg p-4">
                                    <h5 className="font-medium text-green-800 mb-2">🏗️ Base Component</h5>
                                    <p className="text-gray-800 font-semibold">
                                        {baseComponentOptions.find(b => b.id === baseComponent)?.name}
                                    </p>
                                    <p className="text-sm text-gray-600 mt-1">
                                        {baseComponentOptions.find(b => b.id === baseComponent)?.useCase}
                                    </p>
                                </div>
                                <div className="bg-white border border-green-200 rounded-lg p-4">
                                    <h5 className="font-medium text-green-800 mb-2">📈 Value Scaling</h5>
                                    <p className="text-gray-800 font-semibold">
                                        {valueScalingOptions.find(s => s.id === valueScaling)?.name}
                                    </p>
                                    <p className="text-sm text-gray-600 mt-1">
                                        Scales with your customer's {valueMetrics.find(m => m.id === selectedMetric)?.description.toLowerCase()}
                                    </p>
                                </div>
                            </div>
                            <div className="bg-white border border-green-200 rounded-lg p-4">
                                <h5 className="font-medium text-green-800 mb-2">💬 Customer Explanation</h5>
                                <p className="text-gray-800 italic">"{customerExplanation}"</p>
                            </div>
                        </div>
                    </div>

                    {/* Challenge Question */}
                    <div>
                        <label className="block text-sm font-semibold text-gray-700 mb-2">
                            What's one potential challenge with this pricing model and how would you address it? *
                        </label>
                        <textarea
                            className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"
                            value={potentialChallenge}
                            onChange={(e) => setPotentialChallenge(e.target.value)}
                            placeholder="E.g., Usage spikes could cause bill shock - we'd address this with usage alerts and spending caps..."
                        />
                        <div className="flex justify-between mt-1">
                            <span className={`text-sm ${getWordCount(potentialChallenge) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                {getWordCount(potentialChallenge)} words
                            </span>
                            <span className="text-xs text-gray-400">Minimum 5 words required</span>
                        </div>
                    </div>

                    {/* Navigation */}
                    <div className="flex justify-between">
                        <button
                            onClick={prevStep}
                            className="px-4 py-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors"
                        >
                            ← Back to Edit
                        </button>
                        
                        {!completedAt ? (
                            <button
                                onClick={handleComplete}
                                disabled={!isStep3Complete()}
                                className={`px-6 py-3 rounded-lg text-white font-medium text-lg transition-colors ${
                                    isStep3Complete() 
                                        ? 'bg-orange-500 hover:bg-orange-600' 
                                        : 'bg-gray-300 cursor-not-allowed'
                                }`}
                            >
                                Complete Activity
                            </button>
                        ) : null}
                    </div>
                </div>
            );

            return (
                <div className="max-w-[900px] mx-auto p-4">
                    {/* Header */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        <div className="flex justify-between items-center w-full mb-2">
                            <a href="index.html" className="text-orange-600 hover:text-orange-700 font-medium">
                                ← Back to Workshop
                            </a>
                            <a href="../index.html" className="text-orange-600 hover:text-orange-700 font-medium">
                                All GTM Workshops ↑
                            </a>
                        </div>

                        <div className="border-t border-gray-200 mt-3 pt-4">
                            <h1 
                                className={`text-xl font-bold text-gray-800 ${devMode ? 'text-orange-600' : ''} cursor-pointer select-none`}
                                onDoubleClick={toggleDevMode}
                                title="Double-click to toggle dev mode"
                            >
                                Activity 1: Comprehensive Pricing Strategy {devMode && '🔧'}
                            </h1>
                            <p className="text-gray-600 text-sm mt-1">
                                Complete pricing strategy from value metric to hybrid model design (15-20 minutes)
                            </p>

                            {devMode && (
                                <div className="mt-3 pt-3 border-t border-orange-200">
                                    <div className="flex items-center justify-between">
                                        <span className="text-xs text-orange-600 font-medium">🔧 Dev Mode Active</span>
                                        <button
                                            onClick={devFillData}
                                            disabled={devFillLoading}
                                            className="bg-orange-500 text-white px-3 py-1 rounded text-xs hover:bg-orange-600 transition-colors disabled:opacity-50"
                                        >
                                            {devFillLoading ? '⏳ Loading...' : '📝 Fill Test Data'}
                                        </button>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>

                    {/* Progress Bar */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6">
                        <div className="flex items-center justify-between mb-2">
                            <span className="text-sm font-medium text-gray-700">Progress</span>
                            <span className="text-sm text-gray-600">
                                Step {currentStep} of 3 {completedAt && '(Completed)'}
                            </span>
                        </div>
                        <div className="flex items-center space-x-2">
                            {[1, 2, 3].map((step) => (
                                <React.Fragment key={step}>
                                    <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${
                                        currentStep >= step ? 'bg-orange-500 text-white' : 'bg-gray-200 text-gray-600'
                                    }`}>
                                        {step}
                                    </div>
                                    {step < 3 && <div className={`flex-1 h-1 rounded ${
                                        currentStep > step ? 'bg-orange-500' : 'bg-gray-200'
                                    }`}></div>}
                                </React.Fragment>
                            ))}
                        </div>
                        <div className="flex items-center justify-between text-xs text-gray-500 mt-2">
                            <span>Value Metric</span>
                            <span>Hybrid Model</span>
                            <span>Validation</span>
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        {currentStep === 1 && renderStep1()}
                        {currentStep === 2 && renderStep2()}
                        {currentStep === 3 && renderStep3()}
                    </div>

                    {/* Completion Section */}
                    {completedAt && (
                        <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                            <div className="space-y-6">
                                <div className="bg-green-50 border border-green-200 rounded-lg p-6">
                                    <h3 className="text-lg font-semibold text-green-900 mb-2">
                                        ✅ Complete Pricing Strategy Defined!
                                    </h3>
                                    <p className="text-green-800">
                                        You've created a comprehensive pricing strategy from value metric identification through hybrid model design.
                                    </p>
                                    <p className="text-green-700 text-sm mt-2">
                                        Completed at: {new Date(completedAt).toLocaleString()}
                                    </p>
                                </div>

                                <div className="border border-gray-200 rounded-lg p-4">
                                    <h4 className="font-semibold text-gray-800 mb-3">Complete Strategy Summary</h4>
                                    <textarea
                                        id="markdownSummary"
                                        readOnly
                                        className="w-full h-64 text-sm p-3 font-mono border border-gray-200 rounded-lg bg-gray-50 resize-none mb-3"
                                        value={generateMarkdownSummary()}
                                    />
                                    <button
                                        onClick={handleCopyToClipboard}
                                        className="w-full px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 font-medium mb-3"
                                    >
                                        Copy Complete Strategy to Clipboard
                                    </button>
                                    <div id="copyStatus"></div>
                                </div>

                                <div className="text-center">
                                    <button
                                        onClick={() => window.location.href = 'pricing-activity-3A.html'}
                                        className="px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-medium text-lg"
                                    >
                                        Continue to Activity 3: Build Guardrails
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // Render the app
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<ComprehensivePricingActivity />);
    </script>
</body>
</html>