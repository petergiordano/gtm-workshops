<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design Your Hybrid Pricing Model - Pricing Strategy</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
        }
        .laptop-textarea {
            min-height: 80px;
            max-height: 120px;
            transition: max-height 0.3s ease;
            resize: none;
        }
        .laptop-textarea:focus {
            max-height: 200px;
        }
        .hybrid-box {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            transition: all 0.3s ease;
        }
        .hybrid-box.selected {
            border-color: #FF9000;
            background: #FFF7ED;
            box-shadow: 0 4px 12px rgba(255, 144, 0, 0.15);
        }
        .animate-fadeIn {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- Test Data for hybrid pricing model activity -->
    <script type="application/json" id="testData">
    {
      "step1_context": {
        "primaryValueMetric": "B",
        "valueMetricReason": "Our customers process millions of API calls daily and their usage directly correlates with the business value they get from our predictive monitoring platform."
      },
      "step2_hybrid_model": {
        "baseComponent": "subscription",
        "valueScaling": "usage",
        "customerJustification": "Monthly subscription covers our infrastructure and platform costs while usage-based scaling ensures customers only pay more when they're getting more value from monitoring additional API calls.",
        "customerExplanation": "Pay a monthly base fee for access to our monitoring platform, plus a small per-API-call fee that scales with your usage and the value you receive."
      },
      "step3_validation": {
        "potentialChallenge": "Usage spikes during peak traffic could cause unexpected bill increases - we'd address this with usage alerts, spending caps, and graduated pricing tiers to prevent bill shock."
      },
      "completedAt": null,
      "currentStep": 3
    }
    </script>

    <script type="text/babel">
        const { useState } = React;

        // Helper function for word count
        const getWordCount = (text) => {
            return text.trim().split(/\s+/).filter(word => word.length > 0).length;
        };

        const PricingActivity2A = () => {
            // Step 1: Context from Activity 1
            const [primaryValueMetric, setPrimaryValueMetric] = useState('');
            const [valueMetricReason, setValueMetricReason] = useState('');

            // Step 2: Hybrid Model Design
            const [baseComponent, setBaseComponent] = useState('');
            const [valueScaling, setValueScaling] = useState('');
            const [customerJustification, setCustomerJustification] = useState('');
            const [customerExplanation, setCustomerExplanation] = useState('');

            // Step 3: Validation
            const [potentialChallenge, setPotentialChallenge] = useState('');

            // Activity state
            const [currentStep, setCurrentStep] = useState(1);
            const [completedAt, setCompletedAt] = useState(null);

            // Dev mode
            const [devMode, setDevMode] = useState(false);
            const [devFillLoading, setDevFillLoading] = useState(false);

            const toggleDevMode = () => {
                setDevMode(!devMode);
                console.log(devMode ? '🔒 Dev mode disabled' : '🔓 Dev mode enabled');
            };

            const devFillData = () => {
                setDevFillLoading(true);
                try {
                    const testDataScript = document.getElementById('testData');
                    const testData = JSON.parse(testDataScript.textContent);

                    // Step 1 data
                    setPrimaryValueMetric(testData.step1_context.primaryValueMetric);
                    setValueMetricReason(testData.step1_context.valueMetricReason);

                    // Step 2 data
                    setBaseComponent(testData.step2_hybrid_model.baseComponent);
                    setValueScaling(testData.step2_hybrid_model.valueScaling);
                    setCustomerJustification(testData.step2_hybrid_model.customerJustification);
                    setCustomerExplanation(testData.step2_hybrid_model.customerExplanation);

                    // Step 3 data
                    setPotentialChallenge(testData.step3_validation.potentialChallenge);

                    // Set to final step
                    setCurrentStep(testData.currentStep || 3);

                    console.log('✅ Dev data loaded successfully');
                } catch (error) {
                    console.error('❌ Failed to load dev data:', error);
                } finally {
                    setDevFillLoading(false);
                }
            };

            // Value metric options (from Activity 1)
            const valueMetricOptions = [
                { id: 'A', name: 'People/User Enablement', description: 'Value from enabling individuals/teams' },
                { id: 'B', name: 'Volume/Throughput', description: 'Value from activity volume/data processed' },
                { id: 'C', name: 'Outcome/Business Result', description: 'Value from measurable business results' }
            ];

            // Base component options
            const baseComponentOptions = [
                {
                    id: 'platform_fee',
                    name: 'Platform Fee',
                    description: 'Entry access charge',
                    example: 'E.g. Anthropic Claude API - base fee + usage scaling',
                    useCase: 'When customers need guaranteed access/infrastructure'
                },
                {
                    id: 'subscription',
                    name: 'Subscription',
                    description: 'Recurring capabilities',
                    example: 'E.g. Notion AI - $10/user/month add-on',
                    useCase: 'When customers want predictable monthly costs'
                }
            ];

            // Value scaling options
            const valueScalingOptions = [
                {
                    id: 'seats',
                    name: 'Per Seat/User Scaling',
                    example: 'E.g. Notion AI adds $10 per team member',
                    poshExample: 'E.g. Posh base monitoring + per engineering team member'
                },
                {
                    id: 'usage',
                    name: 'Per Usage/Activity Scaling',
                    example: 'E.g. Anthropic Claude - per token processed',
                    poshExample: 'E.g. Posh base subscription + per API call monitored'
                },
                {
                    id: 'outcomes',
                    name: 'Per Outcome/Result Scaling',
                    example: 'E.g. Clay - tiered pricing that scales with data enrichment',
                    poshExample: 'E.g. Posh base monitoring + per incident prevented'
                }
            ];

            // Smart default for value scaling based on primary metric
            const getDefaultValueScaling = (metricId) => {
                switch (metricId) {
                    case 'A': return 'seats';
                    case 'B': return 'usage';
                    case 'C': return 'outcomes';
                    default: return '';
                }
            };

            // Update value scaling when primary metric changes
            const handleMetricChange = (metricId) => {
                setPrimaryValueMetric(metricId);
                if (!valueScaling) {
                    setValueScaling(getDefaultValueScaling(metricId));
                }
            };

            // Validation functions
            const isStep1Complete = () => {
                return primaryValueMetric !== '';
            };

            const isStep2Complete = () => {
                return baseComponent !== '' && 
                       valueScaling !== '' && 
                       getWordCount(customerJustification) >= 5 && 
                       getWordCount(customerExplanation) >= 5;
            };

            const isStep3Complete = () => {
                return getWordCount(potentialChallenge) >= 5;
            };

            const nextStep = () => {
                if ((currentStep === 1 && isStep1Complete()) ||
                    (currentStep === 2 && isStep2Complete()) ||
                    (currentStep === 3 && isStep3Complete())) {
                    setCurrentStep(prev => Math.min(prev + 1, 3));
                }
            };

            const prevStep = () => {
                setCurrentStep(prev => Math.max(prev - 1, 1));
            };

            const handleComplete = () => {
                if (isStep3Complete() && !completedAt) {
                    setCompletedAt(new Date().toISOString());
                }
            };

            // Generate markdown summary
            const generateMarkdownSummary = () => {
                const selectedMetric = valueMetricOptions.find(m => m.id === primaryValueMetric);
                const selectedBase = baseComponentOptions.find(b => b.id === baseComponent);
                const selectedScaling = valueScalingOptions.find(s => s.id === valueScaling);

                return `# Pricing & Monetization: Complete Pricing Strategy

### 🎯 Primary Value Metric (Activity 1)
**Selected**: ${selectedMetric ? `${selectedMetric.id} - ${selectedMetric.name}` : '[Not selected]'}
**Description**: ${selectedMetric ? selectedMetric.description : '[Not available]'}
**Reasoning**: ${valueMetricReason || '[Not provided]'}

### 🏗️ Hybrid Pricing Model (Activity 2)
**Base Component**: ${selectedBase ? selectedBase.name : '[Not selected]'}
${selectedBase ? `*${selectedBase.useCase}*` : ''}

**Value Scaling**: ${selectedScaling ? selectedScaling.name : '[Not selected]'}
${selectedScaling ? `*${selectedScaling.example}*` : ''}

**Customer Benefit**: ${customerJustification || '[Not provided]'}

**Simple Explanation**: ${customerExplanation || '[Not provided]'}

### ⚠️ Implementation Considerations
**Potential Challenge**: ${potentialChallenge || '[Not provided]'}

### 📊 Hybrid Model Structure
\`\`\`
${selectedBase ? selectedBase.name : '[Base Component]'} + ${selectedScaling ? selectedScaling.name : '[Value Scaling]'} = Complete Pricing Model
\`\`\`

### 📅 Assessment Details
**Report Generated**: ${new Date().toLocaleDateString('en-US', { 
  weekday: 'long', 
  year: 'numeric', 
  month: 'long', 
  day: 'numeric',
  hour: '2-digit',
  minute: '2-digit',
  timeZoneName: 'short'
})}

**Activity**: Design Your Hybrid Pricing Model (Activity 2 of 3)
**Workshop Series**: Pricing & Monetization - GTM Program
**Next Step**: Define specific price points in Activity 3

*Ready for Activity 3: Price Points & Testing Strategy*`;
            };

            const handleCopyToClipboard = () => {
                const copyToClipboard = async (text) => {
                    try {
                        if (navigator.clipboard && navigator.clipboard.writeText) {
                            await navigator.clipboard.writeText(text);
                            return true;
                        } else {
                            const textArea = document.createElement('textarea');
                            textArea.value = text;
                            textArea.style.position = 'fixed';
                            textArea.style.left = '-999999px';
                            document.body.appendChild(textArea);
                            textArea.select();
                            const successful = document.execCommand('copy');
                            document.body.removeChild(textArea);
                            return successful;
                        }
                    } catch (err) {
                        console.error('Failed to copy:', err);
                        return false;
                    }
                };

                const el = document.getElementById('markdownSummary');
                const statusDiv = document.getElementById('copyStatus');
                
                copyToClipboard(el.value).then((success) => {
                    if (success) {
                        statusDiv.innerHTML = `
                            <div class="mt-2 bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded-lg">
                                <p class="font-medium">✅ Copied to Clipboard!</p>
                                <p class="text-sm mt-1">Now paste in Google Docs: <strong>Edit → Paste special → Paste from markdown</strong></p>
                            </div>
                        `;
                        
                        const notification = document.createElement('div');
                        notification.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #22c55e; color: white; padding: 16px 24px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 9999; font-weight: 500;';
                        notification.textContent = '✅ Hybrid pricing model copied!';
                        document.body.appendChild(notification);
                        
                        setTimeout(() => {
                            notification.style.transition = 'opacity 0.5s';
                            notification.style.opacity = '0';
                            setTimeout(() => notification.remove(), 500);
                        }, 2500);
                        
                        setTimeout(() => {
                            statusDiv.innerHTML = '';
                        }, 3000);
                    }
                });
            };

            // Render Step 1: Connect to Activity 1
            const renderStep1 = () => (
                <div className="space-y-6">
                    <div className="text-center mb-6">
                        <h3 className="text-xl font-bold text-gray-800 mb-2">
                            Connect to Your Activity 1 Results
                        </h3>
                        <p className="text-gray-600">
                            What was your primary value metric from Activity 1?
                        </p>
                    </div>

                    {/* Hybrid Model Framework */}
                    <div className="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6">
                        <h4 className="text-lg font-semibold text-blue-800 mb-4 text-center">Hybrid Pricing Framework</h4>
                        <div className="flex items-center justify-center space-x-4">
                            <div className="hybrid-box bg-orange-100 border-orange-200">
                                <div className="text-2xl mb-2">🏢</div>
                                <h5 className="font-semibold text-gray-800">Base Component</h5>
                                <p className="text-xs text-gray-600 mt-1">Platform access or subscription</p>
                            </div>
                            <div className="text-2xl font-bold text-blue-600">+</div>
                            <div className="hybrid-box bg-green-100 border-green-200">
                                <div className="text-2xl mb-2">📈</div>
                                <h5 className="font-semibold text-gray-800">Value Scaling</h5>
                                <p className="text-xs text-gray-600 mt-1">Your value metric from Activity 1</p>
                            </div>
                            <div className="text-2xl font-bold text-blue-600">=</div>
                            <div className="hybrid-box bg-blue-100 border-blue-200">
                                <div className="text-2xl mb-2">🎯</div>
                                <h5 className="font-semibold text-gray-800">Complete Model</h5>
                                <p className="text-xs text-gray-600 mt-1">Predictable + scalable pricing</p>
                            </div>
                        </div>
                    </div>

                    {/* Value Metric Selection */}
                    <div className="space-y-4">
                        <h4 className="font-semibold text-gray-800">Select your primary value metric:</h4>
                        {valueMetricOptions.map((option) => (
                            <div key={option.id} className="flex items-center space-x-3">
                                <input
                                    type="radio"
                                    id={`metric-${option.id}`}
                                    name="valueMetric"
                                    value={option.id}
                                    checked={primaryValueMetric === option.id}
                                    onChange={(e) => handleMetricChange(e.target.value)}
                                    className="w-4 h-4 text-orange-600 focus:ring-orange-500"
                                />
                                <label htmlFor={`metric-${option.id}`} className="flex-1 cursor-pointer">
                                    <div className="font-medium text-gray-800">{option.id}) {option.name}</div>
                                    <div className="text-sm text-gray-600">{option.description}</div>
                                </label>
                            </div>
                        ))}
                    </div>

                    {/* Optional reason */}
                    {primaryValueMetric && (
                        <div className="pt-4 border-t border-gray-200">
                            <label className="block text-sm font-semibold text-gray-700 mb-2">
                                Brief reminder: Why did you choose this? (Optional)
                            </label>
                            <textarea
                                className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"
                                value={valueMetricReason}
                                onChange={(e) => setValueMetricReason(e.target.value)}
                                placeholder="E.g., Our customers measure success by the number of API calls they can reliably monitor..."
                            />
                            {valueMetricReason && (
                                <div className="flex justify-between mt-1">
                                    <span className="text-xs text-gray-500">Optional context for your decision</span>
                                    <span className="text-sm text-gray-500">
                                        {getWordCount(valueMetricReason)} words
                                    </span>
                                </div>
                            )}
                        </div>
                    )}

                    {/* Navigation */}
                    <div className="flex justify-end">
                        <button
                            onClick={nextStep}
                            disabled={!isStep1Complete()}
                            className={`px-6 py-3 rounded-lg text-white font-medium text-lg transition-colors ${
                                isStep1Complete() 
                                    ? 'bg-orange-500 hover:bg-orange-600' 
                                    : 'bg-gray-300 cursor-not-allowed'
                            }`}
                        >
                            Design Your Model →
                        </button>
                    </div>
                </div>
            );

            // Render Step 2: Design Hybrid Model
            const renderStep2 = () => (
                <div className="space-y-6">
                    <div className="text-center mb-6">
                        <h3 className="text-xl font-bold text-gray-800 mb-2">
                            Design Your Hybrid Pricing Model
                        </h3>
                        <p className="text-gray-600">
                            Choose your base component and value scaling approach
                        </p>
                    </div>

                    {/* Base Component Selection */}
                    <div className="space-y-4">
                        <h4 className="font-semibold text-gray-800">1. Choose Your Base Component:</h4>
                        <div className="grid md:grid-cols-2 gap-4">
                            {baseComponentOptions.map((option) => (
                                <div key={option.id} className={`hybrid-box cursor-pointer ${baseComponent === option.id ? 'selected' : ''}`}
                                     onClick={() => setBaseComponent(option.id)}>
                                    <div className="text-2xl mb-2">
                                        {option.id === 'platform_fee' ? '🏗️' : '📅'}
                                    </div>
                                    <h5 className="font-semibold text-gray-800 mb-2">{option.name}</h5>
                                    <p className="text-sm text-gray-600 mb-3">{option.description}</p>
                                    <p className="text-xs text-orange-600 font-medium">{option.example}</p>
                                    <p className="text-xs text-gray-500 mt-2">{option.useCase}</p>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Value Scaling Selection */}
                    <div className="space-y-4">
                        <h4 className="font-semibold text-gray-800">2. Choose Your Value Scaling:</h4>
                        {primaryValueMetric && (
                            <div className="bg-green-50 border border-green-200 rounded-lg p-4 mb-4">
                                <p className="text-green-800 text-sm">
                                    <strong>Smart suggestion:</strong> Based on your "{valueMetricOptions.find(m => m.id === primaryValueMetric)?.name}" selection, 
                                    we recommend "{valueScalingOptions.find(s => s.id === getDefaultValueScaling(primaryValueMetric))?.name}"
                                </p>
                            </div>
                        )}
                        <div className="space-y-3">
                            {valueScalingOptions.map((option) => (
                                <div key={option.id} className="border border-gray-200 rounded-lg p-4">
                                    <div className="flex items-start space-x-3">
                                        <input
                                            type="radio"
                                            id={`scaling-${option.id}`}
                                            name="valueScaling"
                                            value={option.id}
                                            checked={valueScaling === option.id}
                                            onChange={(e) => setValueScaling(e.target.value)}
                                            className="w-4 h-4 text-orange-600 focus:ring-orange-500 mt-1"
                                        />
                                        <div className="flex-1">
                                            <label htmlFor={`scaling-${option.id}`} className="cursor-pointer">
                                                <div className="font-medium text-gray-800">{option.name}</div>
                                                <div className="text-sm text-blue-600 mt-1">{option.example}</div>
                                                <div className="text-xs text-orange-600 mt-1">{option.poshExample}</div>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Customer Justification */}
                    {baseComponent && valueScaling && (
                        <div className="space-y-4 pt-4 border-t border-gray-200 animate-fadeIn">
                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">
                                    Why does this combination work for your customers? *
                                </label>
                                <textarea
                                    className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"
                                    value={customerJustification}
                                    onChange={(e) => setCustomerJustification(e.target.value)}
                                    placeholder="E.g., Monthly subscription covers our infrastructure costs while usage scaling ensures they only pay more when getting more value..."
                                />
                                <div className="flex justify-between mt-1">
                                    <span className={`text-sm ${getWordCount(customerJustification) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                        {getWordCount(customerJustification)} words
                                    </span>
                                    <span className="text-xs text-gray-400">Minimum 5 words required</span>
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">
                                    How would you explain this pricing to a customer in simple terms? *
                                </label>
                                <textarea
                                    className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"
                                    value={customerExplanation}
                                    onChange={(e) => setCustomerExplanation(e.target.value)}
                                    placeholder="E.g., Pay a monthly base fee for platform access, plus a small fee per API call that scales with your usage..."
                                />
                                <div className="flex justify-between mt-1">
                                    <span className={`text-sm ${getWordCount(customerExplanation) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                        {getWordCount(customerExplanation)} words
                                    </span>
                                    <span className="text-xs text-gray-400">Minimum 5 words required</span>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Navigation */}
                    <div className="flex justify-between">
                        <button
                            onClick={prevStep}
                            className="px-4 py-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors"
                        >
                            ← Back
                        </button>
                        <button
                            onClick={nextStep}
                            disabled={!isStep2Complete()}
                            className={`px-6 py-3 rounded-lg text-white font-medium text-lg transition-colors ${
                                isStep2Complete() 
                                    ? 'bg-orange-500 hover:bg-orange-600' 
                                    : 'bg-gray-300 cursor-not-allowed'
                            }`}
                        >
                            Validate Model →
                        </button>
                    </div>
                </div>
            );

            // Render Step 3: Validation & Summary
            const renderStep3 = () => (
                <div className="space-y-6">
                    <div className="text-center mb-6">
                        <h3 className="text-xl font-bold text-gray-800 mb-2">
                            Your Hybrid Pricing Model
                        </h3>
                        <p className="text-gray-600">
                            Review your complete pricing strategy and identify potential challenges
                        </p>
                    </div>

                    {/* Model Summary */}
                    <div className="bg-green-50 border-2 border-green-300 rounded-lg p-6">
                        <h4 className="text-lg font-semibold text-green-800 mb-4">✅ Your Complete Pricing Strategy</h4>
                        <div className="space-y-4">
                            <div className="bg-white border border-green-200 rounded-lg p-4">
                                <h5 className="font-medium text-green-800 mb-2">🎯 Primary Value Metric (Activity 1)</h5>
                                <p className="text-gray-800">
                                    {valueMetricOptions.find(m => m.id === primaryValueMetric)?.name} - {valueMetricOptions.find(m => m.id === primaryValueMetric)?.description}
                                </p>
                            </div>
                            <div className="grid md:grid-cols-2 gap-4">
                                <div className="bg-white border border-green-200 rounded-lg p-4">
                                    <h5 className="font-medium text-green-800 mb-2">🏗️ Base Component</h5>
                                    <p className="text-gray-800 font-semibold">
                                        {baseComponentOptions.find(b => b.id === baseComponent)?.name}
                                    </p>
                                    <p className="text-sm text-gray-600 mt-1">
                                        {baseComponentOptions.find(b => b.id === baseComponent)?.useCase}
                                    </p>
                                </div>
                                <div className="bg-white border border-green-200 rounded-lg p-4">
                                    <h5 className="font-medium text-green-800 mb-2">📈 Value Scaling</h5>
                                    <p className="text-gray-800 font-semibold">
                                        {valueScalingOptions.find(s => s.id === valueScaling)?.name}
                                    </p>
                                    <p className="text-sm text-gray-600 mt-1">
                                        Scales with your customer's {valueMetricOptions.find(m => m.id === primaryValueMetric)?.description.toLowerCase()}
                                    </p>
                                </div>
                            </div>
                            <div className="bg-white border border-green-200 rounded-lg p-4">
                                <h5 className="font-medium text-green-800 mb-2">💬 Customer Explanation</h5>
                                <p className="text-gray-800 italic">"{customerExplanation}"</p>
                            </div>
                        </div>
                    </div>

                    {/* Challenge Question */}
                    <div>
                        <label className="block text-sm font-semibold text-gray-700 mb-2">
                            What's one potential challenge with this pricing model and how would you address it? *
                        </label>
                        <textarea
                            className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"
                            value={potentialChallenge}
                            onChange={(e) => setPotentialChallenge(e.target.value)}
                            placeholder="E.g., Usage spikes could cause bill shock - we'd address this with usage alerts and spending caps..."
                        />
                        <div className="flex justify-between mt-1">
                            <span className={`text-sm ${getWordCount(potentialChallenge) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                {getWordCount(potentialChallenge)} words
                            </span>
                            <span className="text-xs text-gray-400">Minimum 5 words required</span>
                        </div>
                    </div>

                    {/* Export Section */}
                    {isStep3Complete() && (
                        <div className="bg-white border border-gray-300 rounded-lg p-4 animate-fadeIn">
                            <div className="flex items-center mb-3">
                                <svg className="text-blue-600 mr-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                </svg>
                                <h4 className="font-semibold text-gray-800">📄 Export Complete Strategy</h4>
                            </div>
                            
                            <p className="text-sm text-gray-600 mb-3">
                                Your complete pricing strategy (Activities 1+2) has been formatted for easy sharing and documentation.
                            </p>

                            <div className="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4">
                                <h5 className="font-medium text-blue-800 mb-2">📌 Google Docs Instructions:</h5>
                                <ol className="text-sm text-blue-700 space-y-1">
                                    <li>1. Click "Copy Strategy Summary" below</li>
                                    <li>2. Open Google Docs and create a new document</li>
                                    <li>3. Go to <strong>Edit → Paste special → Paste from markdown</strong></li>
                                    <li>4. Your complete strategy will appear with proper formatting!</li>
                                </ol>
                            </div>

                            <textarea
                                id="markdownSummary"
                                readOnly
                                className="w-full h-64 text-sm p-3 font-mono border border-gray-200 rounded-lg bg-gray-50 resize-none mb-3"
                                value={generateMarkdownSummary()}
                            />
                            
                            <div className="flex flex-col items-center">
                                <button
                                    onClick={handleCopyToClipboard}
                                    className="bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 text-sm font-medium"
                                >
                                    📋 Copy Strategy Summary
                                </button>
                                <div id="copyStatus"></div>
                            </div>
                        </div>
                    )}

                    {/* Navigation */}
                    <div className="flex justify-between">
                        <button
                            onClick={prevStep}
                            className="px-4 py-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors"
                        >
                            ← Back to Edit
                        </button>
                        
                        {!completedAt ? (
                            <button
                                onClick={handleComplete}
                                disabled={!isStep3Complete()}
                                className={`px-6 py-3 rounded-lg text-white font-medium text-lg transition-colors ${
                                    isStep3Complete() 
                                        ? 'bg-orange-500 hover:bg-orange-600' 
                                        : 'bg-gray-300 cursor-not-allowed'
                                }`}
                            >
                                Complete Activity
                            </button>
                        ) : (
                            <button
                                onClick={() => window.location.href = 'pricing-activity-3A.html'}
                                className="bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 font-medium text-lg"
                            >
                                Continue to Activity 3: Build Guardrails
                            </button>
                        )}
                    </div>
                </div>
            );

            return (
                <div className="max-w-[900px] mx-auto p-4">
                    {/* Header */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        <div className="flex justify-between items-center w-full mb-2">
                            <a href="index.html" className="text-orange-600 hover:text-orange-700 font-medium">
                                ← Back to Workshop
                            </a>
                            <a href="../index.html" className="text-orange-600 hover:text-orange-700 font-medium">
                                All GTM Workshops ↑
                            </a>
                        </div>

                        <div className="border-t border-gray-200 mt-3 pt-4">
                            <h1 
                                className={`text-xl font-bold text-gray-800 ${devMode ? 'text-orange-600' : ''} cursor-pointer select-none`}
                                onDoubleClick={toggleDevMode}
                                title="Double-click to toggle dev mode"
                            >
                                Activity 2: Design Your Hybrid Pricing Model {devMode && '🔧'}
                            </h1>
                            <p className="text-gray-600 text-sm mt-1">
                                Match your pricing model to how value is delivered (5-10 minutes)
                            </p>

                            {devMode && (
                                <div className="mt-3 pt-3 border-t border-orange-200">
                                    <div className="flex items-center justify-between">
                                        <span className="text-xs text-orange-600 font-medium">🔧 Dev Mode Active</span>
                                        <button
                                            onClick={devFillData}
                                            disabled={devFillLoading}
                                            className="bg-orange-500 text-white px-3 py-1 rounded text-xs hover:bg-orange-600 transition-colors disabled:opacity-50"
                                        >
                                            {devFillLoading ? '⏳ Loading...' : '📝 Fill Test Data'}
                                        </button>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>

                    {/* Progress Bar */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6">
                        <div className="flex items-center justify-between mb-2">
                            <span className="text-sm font-medium text-gray-700">Progress</span>
                            <span className="text-sm text-gray-600">
                                Step {currentStep} of 3 {completedAt && '(Completed)'}
                            </span>
                        </div>
                        <div className="flex items-center space-x-2">
                            {[1, 2, 3].map((step) => (
                                <React.Fragment key={step}>
                                    <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${
                                        currentStep >= step ? 'bg-orange-500 text-white' : 'bg-gray-200 text-gray-600'
                                    }`}>
                                        {step}
                                    </div>
                                    {step < 3 && <div className={`flex-1 h-1 rounded ${
                                        currentStep > step ? 'bg-orange-500' : 'bg-gray-200'
                                    }`}></div>}
                                </React.Fragment>
                            ))}
                        </div>
                        <div className="flex items-center justify-between text-xs text-gray-500 mt-2">
                            <span>Connect to Activity 1</span>
                            <span>Design Model</span>
                            <span>Validate & Export</span>
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        {currentStep === 1 && renderStep1()}
                        {currentStep === 2 && renderStep2()}
                        {currentStep === 3 && renderStep3()}
                    </div>
                </div>
            );
        };

        // Render the app
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<PricingActivity2A />);
    </script>
</body>
</html>