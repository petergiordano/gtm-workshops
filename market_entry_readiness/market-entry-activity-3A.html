<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activity 3: Entry Strategy Builder - Market Entry Readiness</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
        }
        .lucide-icon {
            width: 20px;
            height: 20px;
            display: inline-block;
            vertical-align: middle;
        }
        /* Laptop-optimized textarea styles */
        .laptop-textarea {
            min-height: 80px;
            max-height: 120px;
            transition: max-height 0.3s ease;
            resize: none;
        }
        .laptop-textarea:focus {
            max-height: 200px;
        }
        /* Collapsible import section */
        .import-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .import-content.expanded {
            max-height: 500px;
        }
        /* Side-by-side responsive layout */
        @media (max-width: 768px) {
            .laptop-grid {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- Test Data from test_data/market-entry-activity-3A.json -->
    <script type="application/json" id="testData">
    {
      "entryApproach": "Posh's go-to-market strategy involves a direct sales model combined with strategic technology partnerships, focusing on leveraging cloud providers and DevOps platforms.",
      "resourceAllocation": "Budget will be allocated towards SOC2 compliance and security efforts ($150K), building a US sales team ($800K for 4 people), and marketing with demand generation ($300K).",
      "teamBuilding": "The strategy involves building a US-based sales team, establishing local customer success resources, and ensuring 24/7 support across multiple time zones for the target market.",
      "milestones": [
        {
          "month": "Month 1-2",
          "goal": "Establish foundational cloud partnerships and initiate compliance.",
          "successCriteria": "Secure 2-3 major cloud provider partnerships (AWS, Azure, GCP). Begin SOC2 compliance and security efforts."
        },
        {
          "month": "Month 3-4",
          "goal": "Form the US sales team and achieve initial platform integrations.",
          "successCriteria": "Hire a 4-person US sales team. Complete 5 major DevOps platform integrations."
        },
        {
          "month": "Month 5-6",
          "goal": "Acquire initial pilot customers and launch marketing campaigns.",
          "successCriteria": "Secure 3 Fortune 500 pilot customers. Initiate comprehensive marketing and demand generation."
        },
        {
          "month": "Month 7-8",
          "goal": "Expand system integrator partnerships and accelerate customer acquisition.",
          "successCriteria": "Secure 1-2 system integrator (SI) partner agreements. Progress towards enterprise customer targets."
        },
        {
          "month": "Month 9-10",
          "goal": "Scale the customer base and refine product-market fit.",
          "successCriteria": "Continue acquiring enterprise customers towards the 12-month goal. Gather early product-market fit indicators."
        },
        {
          "month": "Month 11-12",
          "goal": "Achieve annual revenue and customer satisfaction targets.",
          "successCriteria": "Attain $1.5M ARR from the US market. Secure 15 enterprise customers. Achieve 95% customer satisfaction (NPS >50)."
        }
      ],
      "currentStep": 3
    }
    </script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Removed Progress Code System - using embedded test data instead

        // Icon components
        const Rocket = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M4.5 16.5c-1.5 1.5-2 4.5-2 4.5s3-0.5 4.5-2c1.5-1.5 1.5-4 1.5-4s-2.5 0-4 1.5"/>
                <path d="M12 15l-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/>
                <path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/>
                <path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/>
            </svg>
        );

        const Calendar = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect width="18" height="18" x="3" y="4" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
        );

        const CheckCircle = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                <polyline points="22,4 12,14.01 9,11.01"/>
            </svg>
        );

        const Users = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
        );

        const DollarSign = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="12" y1="1" x2="12" y2="23"/>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
            </svg>
        );

        const Target = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
                <circle cx="12" cy="12" r="6"/>
                <circle cx="12" cy="12" r="2"/>
            </svg>
        );

        const FileText = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14,2 14,8 20,8"/>
                <line x1="16" y1="13" x2="8" y2="13"/>
                <line x1="16" y1="17" x2="8" y2="17"/>
                <polyline points="10,9 9,9 8,9"/>
            </svg>
        );

        const Copy = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect width="14" height="14" x="8" y="8" rx="2" ry="2"/>
                <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>
            </svg>
        );

        const ChevronDown = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="6,9 12,15 18,9"/>
            </svg>
        );

        const ChevronRight = ({ size = 20, className = "" }) => (
            <svg className={`lucide-icon ${className}`} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="9,18 15,12 9,6"/>
            </svg>
        );

        const MarketEntryActivity3 = () => {
            const [currentStep, setCurrentStep] = useState(1);
            
            // Strategy Planning state
            const [entryApproach, setEntryApproach] = useState('');
            const [resourceAllocation, setResourceAllocation] = useState('');
            const [teamBuilding, setTeamBuilding] = useState('');
            
            // Timeline & Milestones state
            const [milestones, setMilestones] = useState([
                { month: 'Month 1-2', goal: '', successCriteria: '' },
                { month: 'Month 3-4', goal: '', successCriteria: '' },
                { month: 'Month 5-6', goal: '', successCriteria: '' },
                { month: 'Month 7-8', goal: '', successCriteria: '' },
                { month: 'Month 9-10', goal: '', successCriteria: '' },
                { month: 'Month 11-12', goal: '', successCriteria: '' }
            ]);
            
            // Dev mode state
            const [devMode, setDevMode] = useState(false);
            const [devFillLoading, setDevFillLoading] = useState(false);

            // Reset function with refresh button
            const resetActivity = () => {
                setEntryApproach('');
                setResourceAllocation('');
                setTeamBuilding('');
                setMilestones([
                    { month: 'Month 1-2', goal: '', successCriteria: '' },
                    { month: 'Month 3-4', goal: '', successCriteria: '' },
                    { month: 'Month 5-6', goal: '', successCriteria: '' },
                    { month: 'Month 7-8', goal: '', successCriteria: '' },
                    { month: 'Month 9-10', goal: '', successCriteria: '' },
                    { month: 'Month 11-12', goal: '', successCriteria: '' }
                ]);
                setCurrentStep(1);
            };

            // Validation helpers with word count standards
            const isStep1Complete = () => {
                const entryWords = entryApproach.trim().split(/\s+/).filter(w => w.length > 0).length;
                const resourceWords = resourceAllocation.trim().split(/\s+/).filter(w => w.length > 0).length;
                const teamWords = teamBuilding.trim().split(/\s+/).filter(w => w.length > 0).length;
                return entryWords >= 10 && resourceWords >= 10 && teamWords >= 10;
            };

            const isStep2Complete = () => {
                const completedMilestones = milestones.filter(m => {
                    const goalWords = m.goal.trim().split(/\s+/).filter(w => w.length > 0).length;
                    const criteriaWords = m.successCriteria.trim().split(/\s+/).filter(w => w.length > 0).length;
                    return goalWords >= 5 && criteriaWords >= 5;
                }).length;
                return completedMilestones >= 4; // Need at least 4 complete milestones
            };

            const isActivityComplete = () => isStep1Complete() && isStep2Complete();

            // Reusable dev mode hook for loading test data
            const loadTestDataFromScript = (setters) => {
                try {
                    const dataEl = document.getElementById('testData');
                    if (dataEl) {
                        const data = JSON.parse(dataEl.textContent);
                        Object.entries(setters).forEach(([key, setter]) => {
                            if (data[key] !== undefined) {
                                setter(data[key]);
                            }
                        });
                        console.log('‚úÖ Test data loaded successfully from script tag');
                        return true;
                    } else {
                        console.error('‚ùå Test data script tag not found');
                        return false;
                    }
                } catch (error) {
                    console.error('‚ùå Failed to parse test data:', error);
                    return false;
                }
            };

            // Dev fill function (uses external test data)
            const devFillData = () => {
                setDevFillLoading(true);
                try {
                    // Define setters for the loadTestDataFromScript function
                    const setters = {
                        entryApproach: setEntryApproach,
                        resourceAllocation: setResourceAllocation,
                        teamBuilding: setTeamBuilding,
                        milestones: setMilestones,
                        currentStep: setCurrentStep
                    };
                    
                    // Load test data using the reusable hook
                    const success = loadTestDataFromScript(setters);
                    
                    if (success) {
                        console.log('‚úÖ Dev data loaded successfully (from test_data JSON)');
                    } else {
                        throw new Error('Failed to load test data from script tag');
                    }
                } catch (error) {
                    console.error('‚ùå Failed to load dev data:', error);
                    alert(`Failed to load test data: ${error.message}`);
                } finally {
                    setDevFillLoading(false);
                }
            };

            // Toggle dev mode (double-click title)
            const toggleDevMode = () => {
                setDevMode(!devMode);
                console.log(devMode ? 'üîí Dev mode disabled' : 'üîì Dev mode enabled');
            };

            // Update milestone
            const updateMilestone = (index, field, value) => {
                const newMilestones = [...milestones];
                newMilestones[index] = { ...newMilestones[index], [field]: value };
                setMilestones(newMilestones);
            };

            // Markdown export function for professional activity summary
            const generateMarkdownSummary = () => {
                const percentage = Math.round(((milestones.filter(m => m.goal.trim() && m.successCriteria.trim()).length) / 6) * 100);
                const readinessStatus = percentage >= 80 ? percentage + '% - Ready üü¢' : 
                                      percentage >= 60 ? percentage + '% - Moderate üü°' : 
                                      percentage + '% - Developing üü†';
                
                return `# Market Entry Readiness: Entry Strategy Builder

### üìã Executive Summary

**Strategy Completion Score: ${readinessStatus}**

**Implementation Planning:**
- Market Entry Approach: ${entryApproach.trim() ? '‚úÖ Defined' : '‚ùå Pending'}
- Resource Allocation: ${resourceAllocation.trim() ? '‚úÖ Planned' : '‚ùå Pending'}
- Team Building Strategy: ${teamBuilding.trim() ? '‚úÖ Outlined' : '‚ùå Pending'}
- Timeline Milestones: ${milestones.filter(m => m.goal.trim() && m.successCriteria.trim()).length}/6 completed

---

### üöÄ Market Entry Strategy

**Entry Approach:**
${entryApproach.trim() || '[Not provided]'}

**Resource Allocation:**
${resourceAllocation.trim() || '[Not provided]'}

**Team Building Strategy:**
${teamBuilding.trim() || '[Not provided]'}

### üìÖ Implementation Timeline

| Period | Primary Goal | Success Criteria |
|--------|--------------|------------------|
${milestones.map(m => `| ${m.month} | ${m.goal.trim() || '[Not set]'} | ${m.successCriteria.trim() || '[Not set]'} |`).join('\n')}

### üìä Strategic Assessment

**Strategy Components:**
- Entry methodology clearly defined
- Resource requirements mapped to strategy
- Team scaling plan aligned with market entry phases
- 12-month timeline with measurable milestones

**Implementation Readiness:**
- Strategic foundation: ${entryApproach.trim() && resourceAllocation.trim() && teamBuilding.trim() ? 'Complete' : 'In Progress'}
- Timeline planning: ${milestones.filter(m => m.goal.trim() && m.successCriteria.trim()).length >= 4 ? 'Complete' : 'In Progress'}
- Execution roadmap: Ready for market entry execution

### üìÖ Assessment Details

**Report Generated:** ${new Date().toLocaleDateString('en-US', { 
  weekday: 'long', 
  year: 'numeric', 
  month: 'long', 
  day: 'numeric',
  hour: '2-digit',
  minute: '2-digit',
  timeZoneName: 'short'
})}

**Activity:** Entry Strategy Builder (Activity 3 of 3)  
**Workshop Series:** Market Entry Readiness - GTM Program  
**Status:** Market Entry Strategy Complete

*This strategy provides a comprehensive 12-month implementation roadmap for US market entry. Review with stakeholders and adjust timeline based on market conditions and resource availability.*`;
            };

            // Removed old ImportSection component - using embedded test data instead

            // Removed old ExportSection component - using new markdown export instead

            const renderStep1 = () => (
                <div className="space-y-4">
                    <div className="text-center mb-4">
                        <h3 className="text-xl font-bold text-gray-800 mb-2">
                            Strategic Planning Framework
                        </h3>
                        <p className="text-gray-600 text-sm">
                            Define your core market entry strategy across three critical dimensions
                        </p>
                    </div>

                    <div className="space-y-6">
                        {/* Entry Approach */}
                        <div className="bg-orange-50 border border-orange-200 rounded-lg p-4">
                            <div className="flex items-center mb-3">
                                <Rocket className="text-orange-600 mr-2" size={20} />
                                <h4 className="text-md font-semibold text-orange-800">Market Entry Approach</h4>
                            </div>
                            
                            <label className="block text-orange-700 text-sm font-medium mb-2">
                                How will you enter the US market? <span className="text-xs text-gray-500">(describe in 10+ words)</span>
                            </label>
                            <p className="text-orange-700 text-sm mb-3">
                                Define your go-to-market strategy: direct sales, partnerships, digital-first, etc.
                            </p>
                            
                            <textarea
                                value={entryApproach}
                                onChange={(e) => setEntryApproach(e.target.value)}
                                placeholder="e.g., Start with digital marketing to generate inbound leads, establish strategic partnerships with system integrators, then build direct sales team in major markets like SF and NY..."
                                className="w-full laptop-textarea p-3 border border-orange-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200 text-sm placeholder-gray-400"
                            />
                            <div className="flex justify-between items-center mt-1">
                                <span className="text-xs text-gray-500">
                                    Focus on your primary go-to-market channels and sequence
                                </span>
                                <span className={`text-sm flex items-center gap-1 ${
                                    entryApproach.trim().split(/\s+/).filter(w => w.length > 0).length >= 10 ? 'text-green-600' : 'text-gray-500'
                                }`}>
                                    {entryApproach.trim().split(/\s+/).filter(w => w.length > 0).length} words
                                    {entryApproach.trim().split(/\s+/).filter(w => w.length > 0).length >= 10 && <CheckCircle size={16} />}
                                </span>
                            </div>
                        </div>

                        {/* Resource Allocation */}
                        <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <div className="flex items-center mb-3">
                                <DollarSign className="text-blue-600 mr-2" size={20} />
                                <h4 className="text-md font-semibold text-blue-800">Resource Allocation</h4>
                            </div>
                            
                            <label className="block text-blue-700 text-sm font-medium mb-2">
                                How will you allocate budget and resources? <span className="text-xs text-gray-500">(describe in 10+ words)</span>
                            </label>
                            <p className="text-blue-700 text-sm mb-3">
                                Break down investment priorities: marketing, sales, operations, legal, etc.
                            </p>
                            
                            <textarea
                                value={resourceAllocation}
                                onChange={(e) => setResourceAllocation(e.target.value)}
                                placeholder="e.g., 40% marketing/demand generation, 30% sales team hiring and training, 20% operational setup (legal, compliance, infrastructure), 10% contingency for market adaptation..."
                                className="w-full laptop-textarea p-3 border border-blue-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-sm placeholder-gray-400"
                            />
                            <div className="flex justify-between items-center mt-1">
                                <span className="text-xs text-gray-500">
                                    Include percentages or dollar amounts if known
                                </span>
                                <span className={`text-sm flex items-center gap-1 ${
                                    resourceAllocation.trim().split(/\s+/).filter(w => w.length > 0).length >= 10 ? 'text-green-600' : 'text-gray-500'
                                }`}>
                                    {resourceAllocation.trim().split(/\s+/).filter(w => w.length > 0).length} words
                                    {resourceAllocation.trim().split(/\s+/).filter(w => w.length > 0).length >= 10 && <CheckCircle size={16} />}
                                </span>
                            </div>
                        </div>

                        {/* Team Building */}
                        <div className="bg-purple-50 border border-purple-200 rounded-lg p-4">
                            <div className="flex items-center mb-3">
                                <Users className="text-purple-600 mr-2" size={20} />
                                <h4 className="text-md font-semibold text-purple-800">Team Building Strategy</h4>
                            </div>
                            
                            <label className="block text-purple-700 text-sm font-medium mb-2">
                                What team do you need to build? <span className="text-xs text-gray-500">(describe in 10+ words)</span>
                            </label>
                            <p className="text-purple-700 text-sm mb-3">
                                Define key hires, timeline, and whether local US talent or international expansion
                            </p>
                            
                            <textarea
                                value={teamBuilding}
                                onChange={(e) => setTeamBuilding(e.target.value)}
                                placeholder="e.g., Hire US-based VP of Sales (Month 2), 2 Account Executives (Month 4-6), Marketing Manager (Month 3), Operations Coordinator (Month 5). Focus on candidates with B2B SaaS experience in our target market..."
                                className="w-full laptop-textarea p-3 border border-purple-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 text-sm placeholder-gray-400"
                            />
                            <div className="flex justify-between items-center mt-1">
                                <span className="text-xs text-gray-500">
                                    Include roles, timing, and key qualifications
                                </span>
                                <span className={`text-sm flex items-center gap-1 ${
                                    teamBuilding.trim().split(/\s+/).filter(w => w.length > 0).length >= 10 ? 'text-green-600' : 'text-gray-500'
                                }`}>
                                    {teamBuilding.trim().split(/\s+/).filter(w => w.length > 0).length} words
                                    {teamBuilding.trim().split(/\s+/).filter(w => w.length > 0).length >= 10 && <CheckCircle size={16} />}
                                </span>
                            </div>
                        </div>
                    </div>

                    <div className="bg-green-50 border border-green-200 rounded-lg p-3">
                        <p className="text-green-700 text-sm">
                            <strong>Progress:</strong> Complete all 3 strategy components (10+ words each) to proceed to timeline planning.
                            Current: {[entryApproach, resourceAllocation, teamBuilding].filter(field => 
                                field.trim().split(/\s+/).filter(w => w.length > 0).length >= 10
                            ).length}/3 complete
                        </p>
                    </div>

                    <div className="flex justify-end">
                        <button
                            onClick={() => setCurrentStep(2)}
                            disabled={!isStep1Complete()}
                            className={`px-6 py-2 rounded-lg text-white font-medium transition-colors ${
                                isStep1Complete() 
                                    ? 'bg-orange-500 hover:bg-orange-600' 
                                    : 'bg-gray-300 cursor-not-allowed'
                            }`}
                        >
                            Build Timeline ‚Üí
                        </button>
                    </div>
                </div>
            );

            const renderStep2 = () => (
                <div className="space-y-4">
                    <div className="text-center mb-4">
                        <h3 className="text-xl font-bold text-gray-800 mb-2">
                            12-Month Implementation Timeline
                        </h3>
                        <p className="text-gray-600 text-sm">
                            Define specific milestones and success criteria for each phase of your market entry
                        </p>
                    </div>

                    <div className="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4">
                        <p className="text-blue-700 text-sm">
                            <strong>Progress:</strong> {milestones.filter(m => {
                                const goalWords = m.goal.trim().split(/\s+/).filter(w => w.length > 0).length;
                                const criteriaWords = m.successCriteria.trim().split(/\s+/).filter(w => w.length > 0).length;
                                return goalWords >= 5 && criteriaWords >= 5;
                            }).length}/6 milestones completed. Need at least 4 complete milestones (5+ words each field) to proceed.
                        </p>
                    </div>

                    <div className="space-y-4">
                        {milestones.map((milestone, index) => {
                            const goalWords = milestone.goal.trim().split(/\s+/).filter(w => w.length > 0).length;
                            const criteriaWords = milestone.successCriteria.trim().split(/\s+/).filter(w => w.length > 0).length;
                            const isComplete = goalWords >= 5 && criteriaWords >= 5;
                            
                            return (
                                <div key={index} className={`border rounded-lg p-4 ${isComplete ? 'border-green-300 bg-green-50' : 'border-gray-200 bg-white'}`}>
                                    <div className="flex items-center mb-3">
                                        <Calendar className="text-orange-600 mr-2" size={18} />
                                        <h4 className="text-md font-semibold text-gray-800">{milestone.month}</h4>
                                        {isComplete && <CheckCircle className="ml-auto text-green-600" size={18} />}
                                    </div>
                                    
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4 laptop-grid">
                                        {/* Goal */}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                Primary Goal <span className="text-xs text-gray-500">(describe in 5+ words)</span>
                                            </label>
                                            <textarea
                                                value={milestone.goal}
                                                onChange={(e) => updateMilestone(index, 'goal', e.target.value)}
                                                placeholder={
                                                    index === 0 ? "e.g., Complete market research and legal setup" :
                                                    index === 1 ? "e.g., Launch pilot program with 3 beta customers" :
                                                    index === 2 ? "e.g., Achieve first paying customers and product validation" :
                                                    index === 3 ? "e.g., Scale to 10+ customers with proven sales process" :
                                                    index === 4 ? "e.g., Expand team and establish repeatable operations" :
                                                    "e.g., Achieve target revenue and plan for next phase"
                                                }
                                                className="w-full laptop-textarea p-2 border border-gray-300 rounded focus:border-orange-500 focus:ring-2 focus:ring-orange-200 text-sm placeholder-gray-400"
                                            />
                                            <div className="flex justify-between items-center mt-1">
                                                <span className="text-xs text-gray-500"></span>
                                                <span className={`text-sm flex items-center gap-1 ${goalWords >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                                    {goalWords} words
                                                    {goalWords >= 5 && <CheckCircle size={14} />}
                                                </span>
                                            </div>
                                        </div>
                                        
                                        {/* Success Criteria */}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                Success Criteria <span className="text-xs text-gray-500">(describe in 5+ words)</span>
                                            </label>
                                            <textarea
                                                value={milestone.successCriteria}
                                                onChange={(e) => updateMilestone(index, 'successCriteria', e.target.value)}
                                                placeholder={
                                                    index === 0 ? "e.g., US entity established, compliance complete, market insights documented" :
                                                    index === 1 ? "e.g., 3 active pilot customers, feedback collected, initial case studies" :
                                                    index === 2 ? "e.g., $10K+ MRR, 5+ paying customers, positive unit economics" :
                                                    index === 3 ? "e.g., $50K+ MRR, proven sales playbook, customer success metrics" :
                                                    index === 4 ? "e.g., 5+ team members hired, operational processes documented" :
                                                    "e.g., $100K+ ARR, clear path to profitability, expansion roadmap"
                                                }
                                                className="w-full laptop-textarea p-2 border border-gray-300 rounded focus:border-orange-500 focus:ring-2 focus:ring-orange-200 text-sm placeholder-gray-400"
                                            />
                                            <div className="flex justify-between items-center mt-1">
                                                <span className="text-xs text-gray-500"></span>
                                                <span className={`text-sm flex items-center gap-1 ${criteriaWords >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                                    {criteriaWords} words
                                                    {criteriaWords >= 5 && <CheckCircle size={14} />}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>

                    <div className="flex justify-between">
                        <button
                            onClick={() => setCurrentStep(1)}
                            className="px-4 py-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors"
                        >
                            ‚Üê Back to Strategy
                        </button>
                        
                        <button
                            onClick={() => setCurrentStep(3)}
                            disabled={!isStep2Complete()}
                            className={`px-6 py-2 rounded-lg text-white font-medium transition-colors ${
                                isStep2Complete() 
                                    ? 'bg-orange-500 hover:bg-orange-600' 
                                    : 'bg-gray-300 cursor-not-allowed'
                            }`}
                        >
                            Complete Strategy ‚Üí
                        </button>
                    </div>
                </div>
            );

            const renderStep3 = () => (
                <div className="space-y-4">
                    <div className="text-center mb-4">
                        <h3 className="text-xl font-bold text-gray-800 mb-2">
                            Market Entry Strategy Complete
                        </h3>
                        <p className="text-gray-600 text-sm">
                            Your comprehensive 12-month US market entry plan is ready for execution
                        </p>
                    </div>

                    <div className="bg-green-50 border border-green-300 rounded-lg p-4">
                        <h4 className="font-semibold text-green-800 mb-3 flex items-center">
                            <CheckCircle className="mr-2" size={20} />
                            Congratulations! Complete Market Entry Journey Achieved
                        </h4>
                        
                        <div className="space-y-3">
                            <div>
                                <h5 className="font-medium text-green-700 mb-1">Strategic Foundation:</h5>
                                <div className="text-sm text-gray-700 space-y-1">
                                    <div>‚úì Entry approach defined with clear go-to-market strategy</div>
                                    <div>‚úì Resource allocation planned across key investment areas</div>
                                    <div>‚úì Team building roadmap with hiring timeline and roles</div>
                                </div>
                            </div>
                            
                            <div>
                                <h5 className="font-medium text-green-700 mb-1">Implementation Roadmap:</h5>
                                <div className="text-sm text-gray-700">
                                    <div>‚úì {milestones.filter(m => m.goal.trim() || m.successCriteria.trim()).length}/6 milestones defined with specific success criteria</div>
                                    <div>‚úì 12-month timeline with measurable goals and accountability</div>
                                </div>
                            </div>
                            
                            <div>
                                <h5 className="font-medium text-green-700 mb-1">Workshop Journey Complete:</h5>
                                <div className="text-sm text-gray-700 space-y-1">
                                    <div>‚úì Day 1: Problem validated and market landing zone identified</div>
                                    <div>‚úì Day 2-1: Early Customer Profile developed with clear targeting</div>
                                    <div>‚úì Day 2-2: Positioning statement and value proposition completed</div>
                                    <div>‚úì Day 3-1: Foundation assessment and success metrics established</div>
                                    <div>‚úì Day 3-2: Market reality check and gap analysis completed</div>
                                    <div>‚úì Day 3-3: Complete market entry strategy and implementation plan</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="bg-orange-50 border border-orange-200 rounded-lg p-4">
                        <h4 className="text-md font-bold text-orange-800 mb-2">üöÄ Ready for Market Entry</h4>
                        <p className="text-orange-700 text-sm mb-2">
                            You now have a comprehensive, actionable market entry strategy that connects your validated problem to a specific go-to-market plan for the US market.
                        </p>
                        <div className="text-sm text-orange-700">
                            <p className="mb-1"><strong>Your complete toolkit includes:</strong></p>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-1">
                                <div>‚Ä¢ Validated problem worth solving</div>
                                <div>‚Ä¢ Defined early customer profile</div>
                                <div>‚Ä¢ Clear positioning and value proposition</div>
                                <div>‚Ä¢ Strategic foundation and success metrics</div>
                                <div>‚Ä¢ Market gap analysis and adaptation plan</div>
                                <div>‚Ä¢ 12-month implementation roadmap</div>
                            </div>
                        </div>
                    </div>

                    {/* Export Professional Report */}
                    <div className="bg-white border border-gray-300 rounded-lg p-4 mb-6">
                        <div className="flex items-center mb-3">
                            <FileText className="text-blue-600 mr-2" size={20} />
                            <h4 className="font-semibold text-gray-800">üìÑ Export Professional Report</h4>
                        </div>
                        
                        <p className="text-sm text-gray-600 mb-3">
                            Your market entry strategy has been formatted as a professional markdown report with
                            executive summary, strategic framework, implementation timeline, and next steps.
                        </p>

                        <div className="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4">
                            <h5 className="font-medium text-blue-800 mb-2">üìå Google Docs Instructions:</h5>
                            <ol className="text-sm text-blue-700 space-y-1">
                                <li>1. Click "Copy Activity Summary" below</li>
                                <li>2. Open Google Docs and create a new document</li>
                                <li>3. Go to <strong>Edit ‚Üí Paste special ‚Üí Paste from markdown</strong></li>
                                <li>4. Your report will appear with proper formatting, tables, and styling!</li>
                            </ol>
                            <p className="text-xs text-blue-600 mt-2">
                                üí° <strong>Tip:</strong> "Paste from markdown" preserves all formatting including tables, headers, and bullet points.
                            </p>
                        </div>

                        <textarea
                            id="markdownSummary"
                            readOnly
                            className="w-full h-64 text-sm p-3 font-mono border border-gray-200 rounded-lg bg-gray-50 resize-none mb-3"
                            value={generateMarkdownSummary()}
                        />
                        
                        <div className="flex flex-col items-center">
                            <button
                                onClick={(event) => {
                                    // Copy to clipboard with fallback
                                    const copyToClipboard = async (text) => {
                                        try {
                                            // Try modern clipboard API first
                                            if (navigator.clipboard && navigator.clipboard.writeText) {
                                                await navigator.clipboard.writeText(text);
                                                return true;
                                            } else {
                                                // Fallback for older browsers or file:// protocol
                                                const textArea = document.createElement('textarea');
                                                textArea.value = text;
                                                textArea.style.position = 'fixed';
                                                textArea.style.left = '-999999px';
                                                document.body.appendChild(textArea);
                                                textArea.focus();
                                                textArea.select();
                                                
                                                try {
                                                    const successful = document.execCommand('copy');
                                                    document.body.removeChild(textArea);
                                                    return successful;
                                                } catch (err) {
                                                    document.body.removeChild(textArea);
                                                    return false;
                                                }
                                            }
                                        } catch (err) {
                                            console.error('Copy failed:', err);
                                            return false;
                                        }
                                    };

                                    const el = document.getElementById('markdownSummary');
                                    const statusDiv = document.getElementById('copyStatus');
                                    
                                    copyToClipboard(el.value).then((success) => {
                                        if (success) {
                                            // Show success status below button
                                            statusDiv.innerHTML = `
                                                <div class="mt-2 bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded-lg">
                                                    <p class="font-medium">‚úÖ Copied to Clipboard!</p>
                                                    <p class="text-sm mt-1">Now paste in Google Docs: <strong>Edit ‚Üí Paste special ‚Üí Paste from markdown</strong></p>
                                                </div>
                                            `;
                                            
                                            // Also show floating notification
                                            const notification = document.createElement('div');
                                            notification.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #22c55e; color: white; padding: 16px 24px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); z-index: 9999; font-weight: 500;';
                                            notification.textContent = '‚úÖ Market Entry Strategy copied!';
                                            document.body.appendChild(notification);
                                            
                                            // Fade out notification
                                            setTimeout(() => {
                                                notification.style.transition = 'opacity 0.5s';
                                                notification.style.opacity = '0';
                                                setTimeout(() => notification.remove(), 500);
                                            }, 2500);
                                            
                                            // Clear status after 3 seconds
                                            setTimeout(() => {
                                                statusDiv.innerHTML = '';
                                            }, 3000);
                                        } else {
                                            // Show error status
                                            statusDiv.innerHTML = `
                                                <div class="mt-2 bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded-lg">
                                                    <p class="font-medium">‚ùå Copy Failed</p>
                                                    <p class="text-sm">Please select and copy the text manually.</p>
                                                </div>
                                            `;
                                            
                                            setTimeout(() => {
                                                statusDiv.innerHTML = '';
                                            }, 3000);
                                        }
                                    });
                                }}
                                className="bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 text-sm font-medium"
                            >
                                üìã Copy Activity Summary
                            </button>
                            <div id="copyStatus"></div>
                        </div>
                    </div>

                    <div className="text-center space-x-4 mt-6">
                        <button
                            onClick={() => setCurrentStep(2)}
                            className="px-4 py-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors"
                        >
                            ‚Üê Back to Edit
                        </button>
                        <button
                            onClick={() => window.location.href = 'index.html'}
                            className="bg-orange-500 text-white px-8 py-3 rounded-lg hover:bg-orange-600 transition-colors font-semibold"
                        >
                            Complete Workshop Series
                        </button>
                    </div>
                </div>
            );

            return (
                <div className="max-w-[900px] mx-auto p-4 bg-gradient-to-br from-orange-100 to-orange-200 min-h-screen">
                    {/* Header */}
                    <div className="bg-white rounded-lg shadow-lg p-4 mb-4 sticky top-0 z-50">
                        <div className="flex justify-between items-center w-full mb-2">
                            <a 
                                href="index.html" 
                                className="inline-flex items-center text-orange-600 hover:text-orange-700 transition-colors text-sm font-medium"
                            >
                                <span className="mr-1">‚Üê</span> Back to Workshop
                            </a>
                            <a 
                                href="../index.html" 
                                className="inline-flex items-center text-gray-600 hover:text-orange-700 transition-colors text-sm font-medium"
                            >
                                All GTM Workshops <span className="ml-1">‚Üë</span>
                            </a>
                        </div>
                        <div className="flex items-center justify-between mb-2">
                            <h1 
                                className={`text-xl font-bold text-gray-800 ${devMode ? 'text-orange-600' : ''} cursor-pointer select-none`}
                                onDoubleClick={toggleDevMode}
                                title="Double-click to toggle dev mode"
                            >
                                Activity 3: Entry Strategy Builder {devMode && 'üîß'}
                            </h1>
                            <div className="text-sm text-gray-600">
                                Activity 3 of 3
                            </div>
                        </div>
                        
                        {/* Progress indicator */}
                        <div className="w-full bg-gray-200 rounded-full h-2">
                            <div className={`bg-orange-500 h-2 rounded-full transition-all duration-300 ${
                                currentStep === 1 ? 'w-1/3' : currentStep === 2 ? 'w-2/3' : 'w-full'
                            }`}></div>
                        </div>
                        <div className="flex justify-between text-xs text-gray-600 mt-1">
                            <span>Strategy</span>
                            <span>Timeline</span>
                            <span>Complete</span>
                        </div>
                        
                        {/* Dev Mode Controls */}
                        {devMode && (
                            <div className="mt-3 pt-3 border-t border-orange-200">
                                <div className="flex items-center justify-between">
                                    <span className="text-xs text-orange-600 font-medium">üîß Dev Mode Active</span>
                                    <button
                                        onClick={devFillData}
                                        disabled={devFillLoading}
                                        className="bg-orange-500 text-white px-3 py-1 rounded text-xs hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                                    >
                                        {devFillLoading ? '‚è≥ Loading...' : 'üìù Fill Test Data'}
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>

                    {/* Removed old ImportSection - using embedded test data instead */}

                    {/* Main Content */}
                    <div className="bg-white rounded-lg shadow-lg p-6 relative">
                        <button
                            onClick={resetActivity}
                            className="absolute -top-2 -right-2 w-8 h-8 bg-gray-200 hover:bg-orange-500 hover:text-white rounded-full flex items-center justify-center transition-all duration-200 text-gray-600"
                            title="Reset Activity"
                        >
                            <span className="text-lg font-bold">‚Üª</span>
                        </button>
                        
                        {currentStep === 1 && renderStep1()}
                        {currentStep === 2 && renderStep2()}
                        {currentStep === 3 && renderStep3()}
                    </div>
                </div>
            );
        };

        ReactDOM.render(<MarketEntryActivity3 />, document.getElementById('root'));
    </script>
</body>
</html>