<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Competitive Landscape Analysis - Competitive Strategy</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&family=Raleway:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', 'Raleway', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #fafafa;
        }
        .competitor-card {
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 24px;
            background: white;
            transition: all 0.3s ease;
        }
        .competitor-card:hover {
            border-color: #FF9000;
            box-shadow: 0 8px 24px rgba(255, 144, 0, 0.12);
        }
        .animate-fadeIn {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        textarea {
            resize: vertical;
            min-height: 80px;
        }
        textarea:focus {
            outline: none;
            border-color: #FF9000;
            box-shadow: 0 0 0 3px rgba(255, 144, 0, 0.1);
        }
        .section-title {
            color: #FF9000;
            font-weight: 600;
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
        }
        .section-description {
            color: #8a8a8a;
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }
        .laptop-textarea {
            min-height: 80px;
            max-height: 120px;
            transition: max-height 0.3s ease;
            resize: none;
        }
        .laptop-textarea:focus {
            max-height: 200px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- Test Data from test_data/competitive-activity-1A.json -->
    <script type="application/json" id="testData">
    {
        "directCompetitors": [
            {
                "name": "Datadog",
                "description": "Comprehensive monitoring and analytics platform for infrastructure, applications, and logs",
                "strengths": "Full-stack observability, strong dashboard capabilities, wide platform integrations, large user base",
                "weaknesses": "Reactive monitoring only, expensive for high-volume usage, no predictive capabilities, requires manual troubleshooting"
            },
            {
                "name": "Dynatrace", 
                "description": "AI-powered application performance monitoring and observability platform",
                "strengths": "Automated root cause analysis, strong enterprise presence, good AI insights for performance",
                "weaknesses": "Purely reactive approach, complex setup, high pricing, limited API-specific predictive features"
            },
            {
                "name": "New Relic",
                "description": "Observability platform providing application monitoring, infrastructure monitoring, and digital experience monitoring", 
                "strengths": "User-friendly interface, good APM features, strong community, comprehensive monitoring coverage",
                "weaknesses": "Limited predictive analytics, reactive alerting system, manual incident resolution, higher costs at scale"
            }
        ],
        "substituteBehaviors": [
            {
                "behavior": "Manual API monitoring by DevOps teams",
                "description": "Engineering teams manually checking API health through logs, dashboards, and periodic testing",
                "limitations": "Time-intensive, reactive only, human error prone, doesn't scale with API complexity, inconsistent monitoring"
            },
            {
                "behavior": "Basic AWS CloudWatch and native cloud monitoring",
                "description": "Using built-in cloud provider monitoring tools like CloudWatch, Azure Monitor, or Google Cloud Monitoring",
                "limitations": "Limited cross-platform visibility, basic alerting, no predictive capabilities, requires extensive manual configuration"
            },
            {
                "behavior": "In-house monitoring scripts and custom dashboards",
                "description": "Custom-built monitoring solutions using tools like Prometheus, Grafana, or internal logging systems",
                "limitations": "High maintenance overhead, limited AI/ML capabilities, reactive approach, requires dedicated engineering resources"
            }
        ],
        "customerPowerFactors": [
            {
                "factor": "Existing monitoring tool investments and integrations",
                "impact": "High",
                "description": "Significant investments in current APM tools like Datadog or New Relic create switching costs and integration dependencies"
            },
            {
                "factor": "Engineering team bandwidth and priority constraints",
                "impact": "Medium", 
                "description": "DevOps teams are often stretched thin with competing priorities, making new tool adoption challenging without clear ROI"
            },
            {
                "factor": "API downtime cost sensitivity and SLA requirements",
                "impact": "High",
                "description": "High cost of API failures ($100K+/hour) and strict SLA commitments create urgency for better monitoring solutions"
            }
        ],
        "marketNiche": "High-growth B2B SaaS companies and cloud-native enterprises with complex microservices architectures requiring predictive API monitoring to prevent costly downtime",
        "competitivePositioning": "POSH positions as the only predictive API monitoring solution that prevents failures before they impact customers, shifting from reactive firefighting to proactive prevention",
        "currentStep": 3
    }
    </script>

    <script type="text/babel">
        const { useState } = React;

        const CompetitiveLandscapeActivity = () => {
            // State for competitive analysis
            const [currentStep, setCurrentStep] = useState(1);
            const [directCompetitors, setDirectCompetitors] = useState([
                { name: '', description: '', strengths: '', weaknesses: '' },
                { name: '', description: '', strengths: '', weaknesses: '' },
                { name: '', description: '', strengths: '', weaknesses: '' }
            ]);
            const [substituteBehaviors, setSubstituteBehaviors] = useState([
                { behavior: '', description: '', limitations: '' },
                { behavior: '', description: '', limitations: '' },
                { behavior: '', description: '', limitations: '' }
            ]);
            const [customerPowerFactors, setCustomerPowerFactors] = useState([
                { factor: '', impact: 'Medium', description: '' },
                { factor: '', impact: 'Medium', description: '' },
                { factor: '', impact: 'Medium', description: '' }
            ]);
            const [marketNiche, setMarketNiche] = useState('');
            const [competitivePositioning, setCompetitivePositioning] = useState('');

            // Dev mode state
            const [devMode, setDevMode] = useState(false);
            const [devFillLoading, setDevFillLoading] = useState(false);

            // Toggle dev mode
            const toggleDevMode = () => {
                setDevMode(!devMode);
                console.log(devMode ? 'üîí Dev mode disabled' : 'üîì Dev mode enabled');
            };

            // Load test data
            const devFillData = () => {
                setDevFillLoading(true);
                try {
                    const testData = JSON.parse(document.getElementById('testData').textContent);
                    setDirectCompetitors(testData.directCompetitors);
                    setSubstituteBehaviors(testData.substituteBehaviors);
                    setCustomerPowerFactors(testData.customerPowerFactors);
                    setMarketNiche(testData.marketNiche);
                    setCompetitivePositioning(testData.competitivePositioning);
                    setCurrentStep(testData.currentStep || 3);
                    console.log('‚úÖ Dev data loaded successfully');
                } catch (error) {
                    console.error('‚ùå Failed to load dev data:', error);
                } finally {
                    setDevFillLoading(false);
                }
            };

            // Update competitor
            const updateCompetitor = (index, field, value) => {
                const updated = [...directCompetitors];
                updated[index] = { ...updated[index], [field]: value };
                setDirectCompetitors(updated);
            };

            // Update substitute behavior
            const updateSubstitute = (index, field, value) => {
                const updated = [...substituteBehaviors];
                updated[index] = { ...updated[index], [field]: value };
                setSubstituteBehaviors(updated);
            };

            // Update customer power factor
            const updateCustomerPower = (index, field, value) => {
                const updated = [...customerPowerFactors];
                updated[index] = { ...updated[index], [field]: value };
                setCustomerPowerFactors(updated);
            };

            // Step validation
            const isStepComplete = (step) => {
                switch (step) {
                    case 1:
                        return directCompetitors.every(comp => 
                            comp.name.trim().length >= 1 && 
                            comp.description.trim().length >= 5 &&
                            comp.strengths.trim().length >= 5 &&
                            comp.weaknesses.trim().length >= 5
                        );
                    case 2:
                        return substituteBehaviors.every(sub => 
                            sub.behavior.trim().length >= 10 && 
                            sub.description.trim().length >= 25 &&
                            sub.limitations.trim().length >= 25
                        );
                    case 3:
                        return customerPowerFactors.every(factor => 
                            factor.factor.trim().length >= 10 && 
                            factor.description.trim().length >= 25
                        ) && marketNiche.trim().length >= 25 && competitivePositioning.trim().length >= 25;
                    default:
                        return false;
                }
            };

            // Word count helper
            const getWordCount = (text) => {
                return text.trim().split(/\s+/).filter(w => w.length > 0).length;
            };

            // Generate markdown summary
            const generateMarkdownSummary = () => {
                const timestamp = new Date().toLocaleString();
                
                return `# Competitive Strategy: Landscape Analysis
Generated: ${timestamp}

## Competitive Landscape Analysis

### üè¢ Direct Competitors

${directCompetitors.map((comp, i) => `**${comp.name}**
${comp.description}

*Strengths:* ${comp.strengths}
*Weaknesses:* ${comp.weaknesses}

`).join('')}

### üîÑ Substitute Behaviors

${substituteBehaviors.map((sub, i) => `**${sub.behavior}**
${sub.description}

*Limitations:* ${sub.limitations}

`).join('')}

### üí™ Customer Power Factors

${customerPowerFactors.map((factor, i) => `**${factor.factor}** (Impact: ${factor.impact})
${factor.description}

`).join('')}

### üéØ Market Positioning

**Our Market Niche:**
${marketNiche}

**Competitive Positioning:**
${competitivePositioning}

---

**Report Generated:** ${timestamp}
**Workshop:** Competitive Strategy - Landscape Analysis
**Next Steps:** Continue to Activity 2 - Differentiation Strategy
`;
            };

            // Copy to clipboard functionality
            const handleCopyToClipboard = () => {
                const copyToClipboard = async (text) => {
                    try {
                        if (navigator.clipboard && navigator.clipboard.writeText) {
                            await navigator.clipboard.writeText(text);
                            return true;
                        } else {
                            const textArea = document.createElement('textarea');
                            textArea.value = text;
                            textArea.style.position = 'fixed';
                            textArea.style.left = '-999999px';
                            document.body.appendChild(textArea);
                            textArea.select();
                            const successful = document.execCommand('copy');
                            document.body.removeChild(textArea);
                            return successful;
                        }
                    } catch (err) {
                        return false;
                    }
                };

                const el = document.getElementById('markdownSummary');
                const statusDiv = document.getElementById('copyStatus');
                
                copyToClipboard(el.value).then((success) => {
                    if (success) {
                        statusDiv.innerHTML = `
                            <div class="mt-2 bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded-lg">
                                <p class="font-medium">‚úÖ Copied to Clipboard!</p>
                                <p class="text-sm mt-1">Now paste in Google Docs: <strong>Edit ‚Üí Paste special ‚Üí Paste from markdown</strong></p>
                            </div>
                        `;
                        
                        const notification = document.createElement('div');
                        notification.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #22c55e; color: white; padding: 16px 24px; border-radius: 8px; z-index: 9999;';
                        notification.textContent = '‚úÖ Activity summary copied!';
                        document.body.appendChild(notification);
                        
                        setTimeout(() => {
                            notification.style.transition = 'opacity 0.5s';
                            notification.style.opacity = '0';
                            setTimeout(() => notification.remove(), 500);
                        }, 2500);
                    }
                });
            };

            return (
                <div className="max-w-[900px] mx-auto p-4">
                    {/* Header */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        <div className="flex justify-between items-center w-full mb-2">
                            <a href="index.html" className="inline-flex items-center text-orange-600 hover:text-orange-700 transition-colors text-sm font-medium">
                                <span className="mr-1">‚Üê</span> Back to Workshop
                            </a>
                            <a href="../index.html" className="inline-flex items-center text-gray-600 hover:text-orange-700 transition-colors text-sm font-medium">
                                All GTM Workshops <span className="ml-1">‚Üë</span>
                            </a>
                        </div>

                        <div className="border-t border-gray-200 mt-3 pt-4">
                            <h1 
                                className={`text-2xl font-bold text-gray-800 ${devMode ? 'text-orange-600' : ''} cursor-pointer select-none`}
                                onDoubleClick={toggleDevMode}
                                title="Double-click to toggle dev mode"
                            >
                                Activity 1: Competitive Landscape Analysis {devMode && 'üîß'}
                            </h1>
                            <p className="text-gray-600 text-sm mt-1">
                                Map your competitive landscape, substitute behaviors, and customer power dynamics
                            </p>
                        </div>

                        {devMode && (
                            <div className="mt-3 pt-3 border-t border-orange-200">
                                <div className="flex items-center justify-between">
                                    <span className="text-xs text-orange-600 font-medium">üîß Dev Mode Active</span>
                                    <button
                                        onClick={devFillData}
                                        disabled={devFillLoading}
                                        className="bg-orange-500 text-white px-3 py-1 rounded text-xs hover:bg-orange-600"
                                    >
                                        {devFillLoading ? '‚è≥ Loading...' : 'üìù Fill Test Data'}
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>

                    {/* Progress Bar */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6">
                        <div className="flex items-center justify-between mb-2">
                            <span className="text-sm font-medium text-gray-700">Progress</span>
                            <span className="text-sm text-gray-600">
                                {currentStep === 3 ? 'Complete' : `Step ${currentStep} of 3`}
                            </span>
                        </div>
                        <div className="w-full bg-gray-200 rounded-full h-2">
                            <div 
                                className="bg-orange-500 h-2 rounded-full transition-all duration-300" 
                                style={{width: `${(currentStep / 3) * 100}%`}}
                            ></div>
                        </div>
                    </div>

                    {/* Step 1: Direct Competitors */}
                    {currentStep >= 1 && (
                        <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                            <div className="section-title">Step 1: Direct Competitors</div>
                            <div className="section-description">
                                Identify companies that sell similar solutions to similar customers
                            </div>

                            {directCompetitors.map((competitor, index) => (
                                <div key={index} className="competitor-card mb-4">
                                    <div className="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-gray-700 font-medium mb-2">
                                                Competitor Name <span className="text-xs text-gray-500">(1+ words)</span>
                                            </label>
                                            <input
                                                type="text"
                                                value={competitor.name}
                                                onChange={(e) => updateCompetitor(index, 'name', e.target.value)}
                                                placeholder="e.g., Datadog - Application monitoring platform"
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200"
                                            />
                                            <div className="flex justify-end mt-1">
                                                <span className={`text-sm ${getWordCount(competitor.name) >= 1 ? 'text-green-600' : 'text-gray-500'}`}>
                                                    {getWordCount(competitor.name)} words
                                                </span>
                                            </div>
                                        </div>

                                        <div>
                                            <label className="block text-gray-700 font-medium mb-2">
                                                Description <span className="text-xs text-gray-500">(3+ words)</span>
                                            </label>
                                            <textarea
                                                value={competitor.description}
                                                onChange={(e) => updateCompetitor(index, 'description', e.target.value)}
                                                placeholder="e.g., Comprehensive monitoring and analytics platform for infrastructure, applications, and logs"
                                                className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200"
                                            />
                                            <div className="flex justify-end mt-1">
                                                <span className={`text-sm ${getWordCount(competitor.description) >= 3 ? 'text-green-600' : 'text-gray-500'}`}>
                                                    {getWordCount(competitor.description)} words
                                                </span>
                                            </div>
                                        </div>

                                        <div>
                                            <label className="block text-gray-700 font-medium mb-2">
                                                Key Strengths <span className="text-xs text-gray-500">(3+ words)</span>
                                            </label>
                                            <textarea
                                                value={competitor.strengths}
                                                onChange={(e) => updateCompetitor(index, 'strengths', e.target.value)}
                                                placeholder="e.g., Full-stack observability, strong dashboard capabilities, wide platform integrations"
                                                className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200"
                                            />
                                            <div className="flex justify-end mt-1">
                                                <span className={`text-sm ${getWordCount(competitor.strengths) >= 3 ? 'text-green-600' : 'text-gray-500'}`}>
                                                    {getWordCount(competitor.strengths)} words
                                                </span>
                                            </div>
                                        </div>

                                        <div>
                                            <label className="block text-gray-700 font-medium mb-2">
                                                Key Weaknesses <span className="text-xs text-gray-500">(3+ words)</span>
                                            </label>
                                            <textarea
                                                value={competitor.weaknesses}
                                                onChange={(e) => updateCompetitor(index, 'weaknesses', e.target.value)}
                                                placeholder="e.g., Reactive monitoring only, expensive for high-volume usage, no predictive capabilities"
                                                className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200"
                                            />
                                            <div className="flex justify-end mt-1">
                                                <span className={`text-sm ${getWordCount(competitor.weaknesses) >= 3 ? 'text-green-600' : 'text-gray-500'}`}>
                                                    {getWordCount(competitor.weaknesses)} words
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            ))}

                            {currentStep === 1 && (
                                <div className="flex justify-center mt-6">
                                    <button
                                        onClick={() => setCurrentStep(2)}
                                        disabled={!isStepComplete(1)}
                                        className="bg-orange-500 text-white px-8 py-3 rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed font-semibold"
                                    >
                                        Continue to Step 2
                                    </button>
                                </div>
                            )}
                        </div>
                    )}

                    {/* Step 2: Substitute Behaviors */}
                    {currentStep >= 2 && (
                        <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                            <div className="section-title">Step 2: Substitute Behaviors</div>
                            <div className="section-description">
                                How do customers solve this problem today without your solution?
                            </div>

                            {substituteBehaviors.map((substitute, index) => (
                                <div key={index} className="competitor-card mb-4">
                                    <div className="grid md:grid-cols-1 gap-4">
                                        <div>
                                            <label className="block text-gray-700 font-medium mb-2">
                                                Current Behavior <span className="text-xs text-gray-500">(5+ words)</span>
                                            </label>
                                            <input
                                                type="text"
                                                value={substitute.behavior}
                                                onChange={(e) => updateSubstitute(index, 'behavior', e.target.value)}
                                                placeholder="e.g., Manual API monitoring by DevOps teams"
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200"
                                            />
                                            <div className="flex justify-end mt-1">
                                                <span className={`text-sm ${getWordCount(substitute.behavior) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                                    {getWordCount(substitute.behavior)} words
                                                </span>
                                            </div>
                                        </div>

                                        <div>
                                            <label className="block text-gray-700 font-medium mb-2">
                                                Description <span className="text-xs text-gray-500">(5+ words)</span>
                                            </label>
                                            <textarea
                                                value={substitute.description}
                                                onChange={(e) => updateSubstitute(index, 'description', e.target.value)}
                                                placeholder="e.g., Engineering teams manually checking API health through logs and dashboards"
                                                className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200"
                                            />
                                            <div className="flex justify-end mt-1">
                                                <span className={`text-sm ${getWordCount(substitute.description) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                                    {getWordCount(substitute.description)} words
                                                </span>
                                            </div>
                                        </div>

                                        <div>
                                            <label className="block text-gray-700 font-medium mb-2">
                                                Limitations <span className="text-xs text-gray-500">(5+ words)</span>
                                            </label>
                                            <textarea
                                                value={substitute.limitations}
                                                onChange={(e) => updateSubstitute(index, 'limitations', e.target.value)}
                                                placeholder="e.g., Time-intensive, reactive only, human error prone, doesn't scale with API complexity"
                                                className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200"
                                            />
                                            <div className="flex justify-end mt-1">
                                                <span className={`text-sm ${getWordCount(substitute.limitations) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                                    {getWordCount(substitute.limitations)} words
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            ))}

                            {currentStep === 2 && (
                                <div className="flex justify-between mt-6">
                                    <button
                                        onClick={() => setCurrentStep(1)}
                                        className="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600"
                                    >
                                        ‚Üê Back
                                    </button>
                                    <button
                                        onClick={() => setCurrentStep(3)}
                                        disabled={!isStepComplete(2)}
                                        className="bg-orange-500 text-white px-8 py-3 rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed font-semibold"
                                    >
                                        Continue to Step 3
                                    </button>
                                </div>
                            )}
                        </div>
                    )}

                    {/* Step 3: Customer Power & Market Position */}
                    {currentStep >= 3 && (
                        <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                            <div className="section-title">Step 3: Customer Power & Market Position</div>
                            <div className="section-description">
                                Analyze customer buying power and define your market niche
                            </div>

                            <div className="space-y-6">
                                <div>
                                    <h4 className="font-semibold text-gray-800 mb-4">Customer Power Factors</h4>
                                    {customerPowerFactors.map((factor, index) => (
                                        <div key={index} className="competitor-card mb-4">
                                            <div className="grid md:grid-cols-3 gap-4">
                                                <div>
                                                    <label className="block text-gray-700 font-medium mb-2">
                                                        Power Factor <span className="text-xs text-gray-500">(3+ words)</span>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        value={factor.factor}
                                                        onChange={(e) => updateCustomerPower(index, 'factor', e.target.value)}
                                                        placeholder="e.g., Existing monitoring tool investments and integrations"
                                                        className="w-full p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200"
                                                    />
                                                    <div className="flex justify-end mt-1">
                                                        <span className={`text-sm ${getWordCount(factor.factor) >= 3 ? 'text-green-600' : 'text-gray-500'}`}>
                                                            {getWordCount(factor.factor)} words
                                                        </span>
                                                    </div>
                                                </div>

                                                <div>
                                                    <label className="block text-gray-700 font-medium mb-2">
                                                        Impact Level
                                                    </label>
                                                    <select
                                                        value={factor.impact}
                                                        onChange={(e) => updateCustomerPower(index, 'impact', e.target.value)}
                                                        className="w-full p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200"
                                                    >
                                                        <option value="Low">Low</option>
                                                        <option value="Medium">Medium</option>
                                                        <option value="High">High</option>
                                                    </select>
                                                </div>

                                                <div>
                                                    <label className="block text-gray-700 font-medium mb-2">
                                                        Description <span className="text-xs text-gray-500">(5+ words)</span>
                                                    </label>
                                                    <textarea
                                                        value={factor.description}
                                                        onChange={(e) => updateCustomerPower(index, 'description', e.target.value)}
                                                        placeholder="e.g., Significant investments in current APM tools create switching costs and dependencies"
                                                        className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200"
                                                    />
                                                    <div className="flex justify-end mt-1">
                                                        <span className={`text-sm ${getWordCount(factor.description) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                                            {getWordCount(factor.description)} words
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                <div>
                                    <h4 className="font-semibold text-gray-800 mb-4">Market Positioning</h4>
                                    <div className="grid md:grid-cols-1 gap-4">
                                        <div>
                                            <label className="block text-gray-700 font-medium mb-2">
                                                Your Market Niche <span className="text-xs text-gray-500">(5+ words)</span>
                                            </label>
                                            <textarea
                                                value={marketNiche}
                                                onChange={(e) => setMarketNiche(e.target.value)}
                                                placeholder="e.g., High-growth B2B SaaS companies with complex microservices requiring predictive API monitoring"
                                                className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200"
                                            />
                                            <div className="flex justify-end mt-1">
                                                <span className={`text-sm ${getWordCount(marketNiche) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                                    {getWordCount(marketNiche)} words
                                                </span>
                                            </div>
                                        </div>

                                        <div>
                                            <label className="block text-gray-700 font-medium mb-2">
                                                Competitive Positioning Statement <span className="text-xs text-gray-500">(5+ words)</span>
                                            </label>
                                            <textarea
                                                value={competitivePositioning}
                                                onChange={(e) => setCompetitivePositioning(e.target.value)}
                                                placeholder="e.g., We are the only predictive API monitoring solution that prevents failures before customer impact"
                                                className="w-full laptop-textarea p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200"
                                            />
                                            <div className="flex justify-end mt-1">
                                                <span className={`text-sm ${getWordCount(competitivePositioning) >= 5 ? 'text-green-600' : 'text-gray-500'}`}>
                                                    {getWordCount(competitivePositioning)} words
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {currentStep === 3 && isStepComplete(3) && (
                                <div className="flex justify-between mt-6">
                                    <button
                                        onClick={() => setCurrentStep(2)}
                                        className="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600"
                                    >
                                        ‚Üê Back
                                    </button>
                                    <button
                                        onClick={() => window.location.href = 'competitive-activity-2A.html'}
                                        className="bg-orange-500 text-white px-8 py-3 rounded-lg hover:bg-orange-600 font-semibold"
                                    >
                                        Continue to Activity 2
                                    </button>
                                </div>
                            )}
                        </div>
                    )}

                    {/* Professional Export Section */}
                    {currentStep === 3 && isStepComplete(3) && (
                        <div className="bg-white border border-gray-300 rounded-lg p-4 mb-6">
                            <div className="flex items-center mb-3">
                                <h4 className="font-semibold text-gray-800">üìÑ Export Professional Report</h4>
                            </div>
                            
                            <p className="text-sm text-gray-600 mb-3">
                                Your competitive landscape analysis has been formatted as a professional markdown report for easy sharing and documentation.
                            </p>

                            <div className="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4">
                                <h5 className="font-medium text-blue-800 mb-2">üìå Google Docs Instructions:</h5>
                                <ol className="text-sm text-blue-700 space-y-1">
                                    <li>1. Click "Copy Activity Summary" below</li>
                                    <li>2. Open Google Docs and create a new document</li>
                                    <li>3. Go to <strong>Edit ‚Üí Paste special ‚Üí Paste from markdown</strong></li>
                                    <li>4. Your report will appear with proper formatting!</li>
                                </ol>
                                <p className="text-xs text-blue-600 mt-2">
                                    üí° <strong>Tip:</strong> "Paste from markdown" preserves all formatting including headers and sections.
                                </p>
                            </div>

                            <textarea
                                id="markdownSummary"
                                readOnly
                                className="w-full h-64 text-sm p-3 font-mono border border-gray-200 rounded-lg bg-gray-50 resize-none mb-3"
                                value={generateMarkdownSummary()}
                            />
                            
                            <div className="flex flex-col items-center">
                                <button
                                    onClick={handleCopyToClipboard}
                                    className="bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 text-sm font-medium"
                                >
                                    üìã Copy Activity Summary
                                </button>
                                <div id="copyStatus"></div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // React 18 rendering
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<CompetitiveLandscapeActivity />);
    </script>
</body>
</html>