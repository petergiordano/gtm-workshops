<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buyer Journey Map - GTM Channel Strategy</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&family=Raleway:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', 'Raleway', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #fafafa;
        }
        .journey-card {
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 24px;
            background: white;
            transition: all 0.3s ease;
        }
        .journey-card:hover {
            border-color: #FF9000;
            box-shadow: 0 8px 24px rgba(255, 144, 0, 0.12);
        }
        .animate-fadeIn {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        textarea {
            resize: vertical;
            min-height: 80px;
        }
        textarea:focus {
            outline: none;
            border-color: #55BFFA;
            box-shadow: 0 0 0 3px rgba(85, 191, 250, 0.1);
        }
        .stage-title {
            color: #FF9000;
            font-weight: 600;
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
        }
        .stage-description {
            color: #8a8a8a;
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- Test Data for Dev Mode -->
    <script type="application/json" id="testData">
    {
        "awareness": {
            "behaviors": "Experiencing API monitoring challenges, noticing increased downtime incidents, searching for 'API monitoring best practices' on Google, asking peers in developer communities about their monitoring setups",
            "channels": "Google Search, Dev community forums (Reddit, Stack Overflow), LinkedIn articles, Industry newsletters, Developer podcasts",
            "needs": "Understanding of monitoring best practices, cost of downtime calculations, comparison of build vs buy solutions, industry benchmarks for API performance"
        },
        "consideration": {
            "behaviors": "Comparing monitoring solutions, reading detailed case studies, attending webinars and demos, evaluating integration capabilities with existing tech stack, discussing internally with engineering team",
            "channels": "Vendor websites, G2/Capterra review sites, Technical webinars, YouTube tutorials, Direct vendor outreach, Partner recommendations",
            "needs": "Feature comparison matrices, detailed pricing models, integration documentation, ROI calculators, customer success stories, technical requirements"
        },
        "decision": {
            "behaviors": "Requesting personalized demos, negotiating contracts, getting stakeholder buy-in, running proof of concept, checking references, finalizing security reviews",
            "channels": "Direct sales engagement, Partner/reseller channels, Proof of concept environments, Executive briefings, Reference calls",
            "needs": "Custom ROI calculations, implementation timelines, SLA guarantees, support quality metrics, contract terms, security certifications"
        }
    }
    </script>

    <script type="text/babel">
        const { useState } = React;

        const BuyerJourneyActivity = () => {
            // State for journey stages
            const [journeyStages, setJourneyStages] = useState({
                awareness: {
                    behaviors: '',
                    channels: '',
                    needs: ''
                },
                consideration: {
                    behaviors: '',
                    channels: '',
                    needs: ''
                },
                decision: {
                    behaviors: '',
                    channels: '',
                    needs: ''
                }
            });

            // Dev mode state
            const [devMode, setDevMode] = useState(false);
            const [devFillLoading, setDevFillLoading] = useState(false);

            // Handle stage updates
            const handleStageUpdate = (stage, field, value) => {
                setJourneyStages(prev => ({
                    ...prev,
                    [stage]: {
                        ...prev[stage],
                        [field]: value
                    }
                }));
            };

            // Toggle dev mode
            const toggleDevMode = () => {
                setDevMode(!devMode);
                console.log(devMode ? '🔒 Dev mode disabled' : '🔓 Dev mode enabled');
            };

            // Load test data
            const devFillData = () => {
                setDevFillLoading(true);
                try {
                    const testData = JSON.parse(document.getElementById('testData').textContent);
                    setJourneyStages(testData);
                    console.log('✅ Dev data loaded successfully');
                } catch (error) {
                    console.error('❌ Failed to load dev data:', error);
                } finally {
                    setDevFillLoading(false);
                }
            };

            // Generate markdown summary
            const generateMarkdownSummary = () => {
                const timestamp = new Date().toLocaleString();
                
                return `# GTM Channel Strategy - Buyer Journey Map
Generated: ${timestamp}

## Buyer Journey Analysis

### 🎯 Awareness Stage
**The buyer is experiencing a problem or opportunity**

**Buyer Behaviors:**
${journeyStages.awareness.behaviors || '[Not provided]'}

**Channels Buyer Uses:**
${journeyStages.awareness.channels || '[Not provided]'}

**Information Needs:**
${journeyStages.awareness.needs || '[Not provided]'}

---

### 🔍 Consideration Stage
**The buyer is defining their problem and researching solutions**

**Buyer Behaviors:**
${journeyStages.consideration.behaviors || '[Not provided]'}

**Channels Buyer Uses:**
${journeyStages.consideration.channels || '[Not provided]'}

**Information Needs:**
${journeyStages.consideration.needs || '[Not provided]'}

---

### ✅ Decision Stage
**The buyer is evaluating specific vendors and building a business case**

**Buyer Behaviors:**
${journeyStages.decision.behaviors || '[Not provided]'}

**Channels Buyer Uses:**
${journeyStages.decision.channels || '[Not provided]'}

**Information Needs:**
${journeyStages.decision.needs || '[Not provided]'}

---

## Key Channel Insights

Based on this buyer journey mapping, the most important channels to prioritize are:
1. **Awareness**: ${journeyStages.awareness.channels.split(',')[0]?.trim() || 'Primary awareness channel'}
2. **Consideration**: ${journeyStages.consideration.channels.split(',')[0]?.trim() || 'Primary consideration channel'}
3. **Decision**: ${journeyStages.decision.channels.split(',')[0]?.trim() || 'Primary decision channel'}
`;
            };

            // Handle copy to clipboard
            const handleCopyToClipboard = () => {
                const copyToClipboard = async (text) => {
                    try {
                        if (navigator.clipboard && navigator.clipboard.writeText) {
                            await navigator.clipboard.writeText(text);
                            return true;
                        } else {
                            const textArea = document.createElement('textarea');
                            textArea.value = text;
                            textArea.style.position = 'fixed';
                            textArea.style.left = '-999999px';
                            document.body.appendChild(textArea);
                            textArea.select();
                            const successful = document.execCommand('copy');
                            document.body.removeChild(textArea);
                            return successful;
                        }
                    } catch (err) {
                        console.error('Failed to copy:', err);
                        return false;
                    }
                };

                const markdown = generateMarkdownSummary();
                const statusDiv = document.getElementById('copyStatus');
                
                copyToClipboard(markdown).then((success) => {
                    if (success) {
                        statusDiv.innerHTML = `
                            <div class="mt-2 bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded-lg animate-fadeIn">
                                <p class="font-medium">✅ Copied to Clipboard!</p>
                                <p class="text-sm mt-1">Now paste in Google Docs: <strong>Edit → Paste special → Paste from markdown</strong></p>
                            </div>
                        `;
                        
                        // Create floating notification
                        const notification = document.createElement('div');
                        notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg animate-fadeIn z-50';
                        notification.textContent = '✅ Buyer journey analysis copied!';
                        document.body.appendChild(notification);
                        
                        setTimeout(() => {
                            notification.style.transition = 'opacity 0.5s';
                            notification.style.opacity = '0';
                            setTimeout(() => notification.remove(), 500);
                        }, 3000);
                    } else {
                        statusDiv.innerHTML = `
                            <div class="mt-2 bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded-lg">
                                <p class="font-medium">❌ Copy failed</p>
                                <p class="text-sm mt-1">Please try selecting and copying the text manually.</p>
                            </div>
                        `;
                    }
                });
            };

            const stageConfig = [
                {
                    id: 'awareness',
                    title: 'Awareness',
                    description: 'The buyer is experiencing a problem or opportunity.',
                    icon: '🎯'
                },
                {
                    id: 'consideration',
                    title: 'Consideration',
                    description: 'The buyer is defining their problem and researching solutions.',
                    icon: '🔍'
                },
                {
                    id: 'decision',
                    title: 'Decision',
                    description: 'The buyer is evaluating specific vendors and building a business case.',
                    icon: '✅'
                }
            ];

            return (
                <div className="max-w-[900px] mx-auto p-4">
                    {/* Header */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        <div className="flex justify-between items-center w-full mb-2">
                            <a href="index.html" className="text-orange-600 hover:text-orange-700 font-medium">
                                ← Back to Workshop
                            </a>
                            <a href="../index.html" className="text-orange-600 hover:text-orange-700 font-medium">
                                All GTM Workshops ↑
                            </a>
                        </div>

                        <div className="border-t border-gray-200 mt-3 pt-4">
                            <h1 
                                className={`text-xl font-bold text-gray-800 ${devMode ? 'text-orange-600' : ''} cursor-pointer select-none`}
                                onDoubleClick={toggleDevMode}
                                title="Double-click to toggle dev mode"
                            >
                                Activity 1: Buyer Journey Map {devMode && '🔧'}
                            </h1>
                            <p className="text-gray-600 text-sm mt-1">
                                Map your buyer's journey across awareness, consideration, and decision stages
                            </p>

                            {devMode && (
                                <div className="mt-3 pt-3 border-t border-orange-200">
                                    <div className="flex items-center justify-between">
                                        <span className="text-xs text-orange-600 font-medium">🔧 Dev Mode Active</span>
                                        <button
                                            onClick={devFillData}
                                            disabled={devFillLoading}
                                            className="bg-orange-500 text-white px-3 py-1 rounded text-xs hover:bg-orange-600 transition-colors disabled:opacity-50"
                                        >
                                            {devFillLoading ? '⏳ Loading...' : '📝 Fill Test Data'}
                                        </button>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>

                    {/* Progress Bar */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6">
                        <div className="flex items-center justify-between mb-2">
                            <span className="text-sm font-medium text-gray-700">Progress</span>
                            <span className="text-sm text-gray-600">In Progress</span>
                        </div>
                        <div className="w-full bg-gray-200 rounded-full h-2">
                            <div className="bg-orange-500 h-2 rounded-full transition-all duration-300" style={{width: '33%'}}></div>
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        <h2 className="text-lg font-semibold text-gray-800 mb-4">
                            Buyer Journey Map
                        </h2>
                        <p className="text-gray-600 mb-6 text-sm">
                            Outline the key stages of your target buyer's decision-making process. What are they doing, what channels do they use, and what information do they need at each step?
                        </p>

                            {/* Journey Stage Cards */}
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                {stageConfig.map((stage) => (
                                    <div key={stage.id} className="journey-card">
                                        <div className="flex items-center gap-2 mb-3">
                                            <span className="text-2xl">{stage.icon}</span>
                                            <h3 className="stage-title">{stage.title}</h3>
                                        </div>
                                        <p className="stage-description">{stage.description}</p>
                                        
                                        <div className="space-y-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">
                                                    Buyer Behaviors
                                                </label>
                                                <textarea
                                                    value={journeyStages[stage.id].behaviors}
                                                    onChange={(e) => handleStageUpdate(stage.id, 'behaviors', e.target.value)}
                                                    placeholder="e.g., Searching on Google, asking peers for recommendations..."
                                                    className="w-full p-3 border border-gray-300 rounded-lg text-sm transition-all"
                                                    rows="3"
                                                />
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">
                                                    Channels Buyer Uses (ICP Preference)
                                                </label>
                                                <textarea
                                                    value={journeyStages[stage.id].channels}
                                                    onChange={(e) => handleStageUpdate(stage.id, 'channels', e.target.value)}
                                                    placeholder="e.g., Google Search, LinkedIn, Industry Conferences, Word-of-Mouth"
                                                    className="w-full p-3 border border-gray-300 rounded-lg text-sm transition-all"
                                                    rows="3"
                                                />
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">
                                                    Information Needs
                                                </label>
                                                <textarea
                                                    value={journeyStages[stage.id].needs}
                                                    onChange={(e) => handleStageUpdate(stage.id, 'needs', e.target.value)}
                                                    placeholder="e.g., 'How much does it cost?', 'What is the ROI?', 'Which vendors are best?'"
                                                    className="w-full p-3 border border-gray-300 rounded-lg text-sm transition-all"
                                                    rows="3"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>

                    {/* Export Section */}
                    <div className="bg-gray-50 rounded-xl p-6 border border-gray-200">
                        <h3 className="text-lg font-semibold text-gray-800 mb-3">📄 Export Your Buyer Journey Analysis</h3>
                        <p className="text-sm text-gray-600 mb-4">
                            Copy your completed buyer journey map as formatted text for easy sharing.
                        </p>
                        
                        <button
                            onClick={handleCopyToClipboard}
                            className="bg-orange-500 text-white px-6 py-2.5 rounded-lg font-medium hover:bg-orange-600 transition-colors"
                        >
                            Copy to Clipboard
                        </button>
                        
                        <div id="copyStatus" className="mt-3"></div>
                        
                        {/* Hidden textarea for debugging */}
                        <textarea
                            id="markdownSummary"
                            readOnly
                            className="hidden"
                            value={generateMarkdownSummary()}
                        />
                    </div>
                </div>
            );
        };

        // Render the app
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<BuyerJourneyActivity />);
    </script>
</body>
</html>